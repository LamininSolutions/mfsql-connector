

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Logging Tables &mdash; MFSQL Connector 4.10.30.74 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Procedures and Functions" href="../procedures-and-functions/index.html" />
    <link rel="prev" title="Utility Tables" href="../utility-tables/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-database-file-connector/index.html">MFSQL Database File Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-integration-connector/index.html">MFSQL Integration Connector</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">The Connector Framework</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../architecture/index.html">Architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Connector Content</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../assemblies/index.html">Assemblies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../metadata-structure-tables/index.html">Metadata Structure Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../class-tables/index.html">Class tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../utility-tables/index.html">Utility Tables</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Logging Tables</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#class-record-updates">Class Record Updates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#procedure-processing-logs">Procedure Processing logs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#error-logs">Error logs</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../procedures-and-functions/index.html">Procedures and Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../m-files-installation/index.html">M-Files Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../context-menu/index.html">Context Menu</a></li>
<li class="toctree-l3"><a class="reference internal" href="../supporting-applications/index.html">Supporting Applications</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../connector-database/index.html">Connector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../connector-database/index.html#enabling-the-database">Enabling the database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../licensing/index.html">Licensing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/index.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#overview">Overview</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">The Connector Framework</a> &raquo;</li>
        
          <li><a href="../index.html">Connector Content</a> &raquo;</li>
        
      <li>Logging Tables</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="logging-tables">
<h1>Logging Tables<a class="headerlink" href="#logging-tables" title="Permalink to this headline">¶</a></h1>
<p>The Connector includes several logging tables for different
purposes. Error management and functional use of these tables are
further described in the documentation of each table</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../../../tables/tbMFLog.html"><span class="doc">MFLog</span></a>: Used to store the Error details</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFUpdateHistory.html"><span class="doc">MFUpdateHistory</span></a>: Used to store the results of each record update</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFProcessBatch.html"><span class="doc">MFProcessBatch</span></a>: Records start and finish of key processes</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFProcessBatchDetail.html"><span class="doc">MFProcessBatchDetail</span></a>:Records details of key sub processes with each batch process</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFAuditHistory.html"><span class="doc">MFAuditHistory</span></a>: Records a listing of ObjectVersions when spMFTableAudit is processed.</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFContextMenuQueue.html"><span class="doc">MFContextMenuQueue</span></a>: Records the calls for MFContextMenu actions</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFEmaillog.html"><span class="doc">MFEmailLog</span></a>: log emails sent via the bulk email routines</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFExportFileHistory.html"><span class="doc">MFExportFileHistory</span></a>: log file exports using spMFExportFiles</p></li>
<li><p><a class="reference internal" href="../../../tables/tbMFFileImport.html"><span class="doc">MFFileImport</span></a>: log file imports using spMFSynchronizeFilesToMFiles</p></li>
</ul>
</div></blockquote>
<div class="section" id="class-record-updates">
<h2>Class Record Updates<a class="headerlink" href="#class-record-updates" title="Permalink to this headline">¶</a></h2>
<p>The Connector logs updates to the ClassTables and errors. These logs are
created when spMFUpdateTable is executed.</p>
<p>The Table MFUpdateHistory have details of every ClassTable update that
the Connector do against SQL and M-Files. The id of this table is recorded in the class table as the Update ID. Consequently the class table shows the id in the history of the last update to the object.</p>
<p>The following core operations record entries in this table:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="../../../procedures/spMFUpdateTable.html"><span class="doc">spMFUpdateTable</span></a> - recording updates to objects in classes</p></li>
<li><p><a class="reference internal" href="../../../procedures/spMFTableAudit.html"><span class="doc">spMFTableAudit</span></a> - recording updates of object versions</p></li>
<li><p><a class="reference internal" href="../../../procedures/spMFDeleteObjectList.html"><span class="doc">spMFDeleteObjectList</span></a> - recoding deletions of Objects</p></li>
<li><p><a class="reference internal" href="../../../procedures/spMFUnDeleteObject.html"><span class="doc">spMFUnDeleteObject</span></a> - recoding deletions of Objects</p></li>
</ul>
</div></blockquote>
<p>Use the procedure <a class="reference internal" href="../../../procedures/spMFUpdateHistoryShow.html"><span class="doc">spMFUpdateHistoryShow</span></a> to explore summarized content and lists of a specific updateid.</p>
<p>The table MFAuditHistory have details of the object version (objid, version, class, object type) of every object in class tables and is used to cross check the object version status with the class table object detail.  Use the view <a class="reference internal" href="../../../views/MFvwAuditSummary.html"><span class="doc">MFvwAuditSummary</span></a> for a summarised result.  When the procedure <a class="reference internal" href="../../../procedures/spMFObjectTypeUpdateClassIndex.html"><span class="doc">spMFObjectTypeUpdateClassIndex</span></a> is run the audit table will include details of all the tables, rather than only those with class tables.  Use the view <a class="reference internal" href="../../../views/MFvwObjectChangeHistory.html"><span class="doc">MFvwObjectChangeHistory</span></a> for details about the object count and highest objid of the class.</p>
</div>
<div class="section" id="procedure-processing-logs">
<h2>Procedure Processing logs<a class="headerlink" href="#procedure-processing-logs" title="Permalink to this headline">¶</a></h2>
<p>Two tables are used to log key events for key procedures.
<a class="reference internal" href="../../../tables/tbMFProcessBatch.html"><span class="doc">MFProcessBatch</span></a> has a unique reference for each process.  A single record
is created when the process starts and updated with progress of the
process until completion.  The <a class="reference internal" href="../../../tables/tbMFProcessBatchDetail.html"><span class="doc">MFProcessBatchDetail</span></a> records individual
records for key events of each process batch.</p>
<p>These tables also include procedures actioned through the context menu.  The activity through the vault application is also recorded in the logs defined in configurations section of the MFSQLConnector VAF Application.</p>
<p>These logs are set for all standard procedures.  Custom procedures can include entries to MFProcessBatch by using <a class="reference internal" href="../../../procedures/spMFProcessBatch_Upsert.html"><span class="doc">spMFProcessBatch_Upsert</span></a> and to MFProcessBatchDetail by using <a class="reference internal" href="../../../procedures/spMFProcessBatchDetail_Insert.html"><span class="doc">spMFProcessBatchDetail_Insert</span></a></p>
</div>
<div class="section" id="error-logs">
<h2>Error logs<a class="headerlink" href="#error-logs" title="Permalink to this headline">¶</a></h2>
<p>System error is logged when it is triggered in any procedure. The Table
<a class="reference internal" href="../../../tables/tbMFLog.html"><span class="doc">MFLog</span></a> have details of the system errors reported by the Connector.</p>
<p>Errors entries in MFLog Table triggers an email to the email address in the MFSettings table SupportEmailRecipient.  This email is dependent on setting up database mail for the server. The logs can also be inspected with</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">Select</span> <span class="o">*</span> <span class="k">from</span> <span class="n">mflog</span> <span class="k">order</span> <span class="k">by</span> <span class="n">logid</span> <span class="k">desc</span>
</pre></div>
</div>
<p>An example of such an email is below
<img alt="image0" src="../../../_images/img_34.png" /></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../procedures-and-functions/index.html" class="btn btn-neutral float-right" title="Procedures and Functions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../utility-tables/index.html" class="btn btn-neutral float-left" title="Utility Tables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>