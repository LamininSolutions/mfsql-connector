

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MFUpdateHistory for logging of class record changes &mdash; MFSQL Connector 4.9.27.69 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Working with Object Version" href="../../working-with-object-version/index.html" />
    <link rel="prev" title="Logging execution of Process and Procedure Steps" href="../logging-execution-of-process-and-procedure-steps/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-database-file-connector/index.html">MFSQL Database File Connector</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">MFSQL Integration Connector</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../exploring-metadata/index.html">Exploring metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building-custom-applications-and-integrations/index.html">Building custom applications and integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building-custom-applications-and-integrations/index.html#using-code-on-time">Using Code On Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../property-and-column-usage/index.html">Property and column usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../metadata-search/index.html">Metadata Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../create-valuelist-items-from-sql/index.html">Update / Create Valuelist Items from SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user-messages/index.html">User Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lookup-views/index.html">Lookup Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../send-bulk-email/index.html">Send Bulk Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-files/index.html">Working with files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-aliases/index.html">Working with aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../change-of-vault/index.html">Change of Vault</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daily-monthly-routines-for-agents/index.html">Daily Monthly Routines for Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tips-and-tricks-on-using-the-connector/index.html">Tips and tricks on using the Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tips-and-tricks-on-using-the-connector/index.html#getting-deleted-objects">Getting deleted objects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Using and managing logs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../error-tracing/index.html">Error tracing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-execution-of-process-and-procedure-steps/index.html">Logging execution of Process and Procedure Steps</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-execution-of-process-and-procedure-steps/index.html#summary-of-logging-function">Summary of logging function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-execution-of-process-and-procedure-steps/index.html#setting-switch-to-use-process-logging">Setting switch to use process logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-execution-of-process-and-procedure-steps/index.html#calling-procedure-or-executing-instruction">Calling procedure or executing instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-execution-of-process-and-procedure-steps/index.html#related-procedures">Related procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-execution-of-process-and-procedure-steps/index.html#procedures-to-update-the-logging">Procedures to update the logging</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">MFUpdateHistory for logging of class record changes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#logging">Logging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-object-version/index.html">Working with Object Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html">Context Menu Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mfsql_connector_addons/index.html">MFSQL Connector addons and utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">MFSQL Integration Connector</a> &raquo;</li>
        
          <li><a href="../index.html">Using and managing logs</a> &raquo;</li>
        
      <li>MFUpdateHistory for logging of class record changes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mfupdatehistory-for-logging-of-class-record-changes">
<h1>MFUpdateHistory for logging of class record changes<a class="headerlink" href="#mfupdatehistory-for-logging-of-class-record-changes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>Every update that is processed through spMFUpdateTable is logged in the
MFUpdateHistory Table.</p>
<p>As soon as the update is initiated an ID is reserved from
MFUpdateHistory and the items related to the update is recorded in the
table as XML records.  Note that this table potentially could include
large XML records and it is not recommended to perform a select
statement on this table without any filters.  It is also important to
ensure that this table is maintained and that old records are regularly
deleted.  See spMFDeleteHistory.</p>
<p>The significance and nature of the contents of the columns in the
MFUpdateHistory table will depend and the parameters of the
MFUpdateTable procedure and the outcome of the procedure.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 11%" />
<col style="width: 43%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Column</p></th>
<th class="head"><p>Description of XML columns</p></th>
<th class="head"><p>Sample</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ObjectDetails</p></td>
<td><p>ObjectType and Class of the table</p></td>
<td><div class="line-block">
<div class="line">&lt;form&gt;</div>
<div class="line">&lt;Object id=”0”&gt;</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Update Method 1</p></td>
<td></td>
<td><div class="line-block">
<div class="line">&lt;class id=”17” /&gt;</div>
<div class="line">&lt;/Object&gt;</div>
<div class="line">&lt;/form&gt;</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>ObjectDetails</p></td>
<td><p>ObjectType, Class, Property id, datatype and value of each record included in the filter</p></td>
<td><div class="line-block">
<div class="line">&lt;form&gt;</div>
<div class="line">&lt;Object id=”243” sqlID=”33328”&gt;</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Update Method 0</p></td>
<td></td>
<td><div class="line-block">
<div class="line">&lt;class id=”163”&gt;</div>
<div class="line">&lt;property id=”0” dataType=”1”&gt;Update&lt;/property&gt;</div>
<div class="line">&lt;property id=”27” dataType=”7”&gt;0&lt;/property&gt;</div>
<div class="line">&lt;property id=”37” dataType=”8” /&gt;</div>
<div class="line">&lt;property id=”38” dataType=”9”&gt;122&lt;/property&gt;</div>
<div class="line">&lt;property id=”39” dataType=”9”&gt;214&lt;/property&gt;</div>
<div class="line">&lt;property id=”1079” dataType=”10” /&gt;</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>ObjVerDetails</p></td>
<td><p>Object Version of the objects including: Object Type, Object ID; Version: ObjectGuid</p></td>
<td><div class="line-block">
<div class="line">form&gt;</div>
<div class="line">&lt;ObjectType id=”186”&gt;</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Update Method 1</p></td>
<td></td>
<td><div class="line-block">
<div class="line">&lt;objVers objectID=”67957” version=”1” objectGUID=”{8328F62A-6534-4286-B436-07B394711187}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68750” version=”3” objectGUID=”{F34392E4-D130-4ACB-A4D5-3B325399F6AB}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68940” version=”1” objectGUID=”{8B079EFF-6096-49C3-981F-006A58917ABC}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68941” version=”1” objectGUID=”{5BDAAB58-3DE2-4105-BFAE-B38827BA2042}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68997” version=”1” objectGUID=”{3EE44F72-37F5-4DFE-9AB0-60409AE4014F}” /&gt;</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>ObjVerDetails</p></td>
<td><p>Not applicable</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-odd"><td><p>Update Method 0</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NewOrUpdatedObjectVer</p></td>
<td><p>Not Applicable</p></td>
<td><p>Null</p></td>
</tr>
<tr class="row-odd"><td><p>Update Method 1</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>NewOrUpdatedObjectVer</p></td>
<td><p>Object Version of new objects from M-Files to be updated in SQL</p></td>
<td><div class="line-block">
<div class="line">&lt;form&gt;</div>
<div class="line">&lt;ObjectType id=”186”&gt;</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Update Method 0</p></td>
<td><p>Object Type, Object ID; Version: ObjectGuid</p></td>
<td><div class="line-block">
<div class="line">&lt;objVers objectID=”67957” version=”1” objectGUID=”{8328F62A-6534-4286-B436-07B394711187}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68750” version=”3” objectGUID=”{F34392E4-D130-4ACB-A4D5-3B325399F6AB}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68940” version=”1” objectGUID=”{8B079EFF-6096-49C3-981F-006A58917ABC}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68941” version=”1” objectGUID=”{5BDAAB58-3DE2-4105-BFAE-B38827BA2042}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68997” version=”1” objectGUID=”{3EE44F72-37F5-4DFE-9AB0-60409AE4014F}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68998” version=”1” objectGUID=”{9264AB20-59B6-45C0-B2B5-605E2E56A54E}” /&gt;</div>
<div class="line">&lt;objVers objectID=”68999” version=”1” objectGUID=”{5D7DC8ED-07BF-4D6B-8442-8123E23D6E66}” /&gt;</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>NewOrUpdatedObjectDetails</p></td>
<td><p>Property details of the objects that is new or has changed in M-Files and are due to be updated in SQL</p></td>
<td><div class="line-block">
<div class="line">&lt;form&gt;</div>
<div class="line">&lt;Object objectId=”662” objVersion=”6” objectGUID=”{53C12CE1-600B-4FBF-BA50-6D524FB34E2E}” DisplayID=”662”&gt;</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>Update Method 1 and 0</p></td>
<td><p>Note that when NewOrUpdatedObjectVer is included that these objects are new in SQL</p></td>
<td><div class="line-block">
<div class="line">&lt;properties propertyId=”0” dataType=”MFDatatypeText” propertyValue=”Brokered Purchase Order TEMPLATE” /&gt;</div>
<div class="line">&lt;properties propertyId=”21” dataType=”MFDatatypeTimestamp” propertyValue=”10-05-2015 21:23” /&gt;</div>
<div class="line">&lt;properties propertyId=”23” dataType=”MFDatatypeLookup” propertyValue=”leRoux Cilliers” /&gt;</div>
<div class="line">&lt;properties propertyId=”23” propertyValue=”34” /&gt;</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>SynchronizationError</p></td>
<td><p>Object version of the record that has error</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>DeletedObjects</p></td>
<td><p>Object version of the record that is marked as deleted</p></td>
<td><div class="line-block">
<div class="line">&lt;form&gt;</div>
<div class="line">&lt;objVers objectID=”345208” version=”6” /&gt;</div>
<div class="line">&lt;objVers objectID=”346581” version=”2” /&gt;</div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>MFError</p></td>
<td><p>Listing of the records with errors</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>This table could be a large table due to the XML content and it is
advisable to extract specific data from it, rather that attempting to
list the entire table.</p>
<p>To view the most recent updates use</p>
<p><strong>Execute Procedure</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">top</span> <span class="mi">5</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFUpdateHistory</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">muh</span><span class="p">]</span> <span class="k">order</span> <span class="k">by</span> <span class="n">id</span> <span class="n">des</span>
</pre></div>
</div>
<p>Use the procedure spMFUpdateHistoryShow to review the results of a
specific Update_ID</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../working-with-object-version/index.html" class="btn btn-neutral float-right" title="Working with Object Version" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../logging-execution-of-process-and-procedure-steps/index.html" class="btn btn-neutral float-left" title="Logging execution of Process and Procedure Steps" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>