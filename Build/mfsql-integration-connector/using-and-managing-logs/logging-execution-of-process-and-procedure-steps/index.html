<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Logging execution of Process and Procedure Steps &mdash; MFSQL Connector 4.11.33.77 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />

  
    <link rel="shortcut icon" href="../../../_static/MFSQL-Favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=24c0f75b"></script>
        <script src="../../../_static/doctools.js?v=888ff710"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="MFUpdateHistory for logging of class record changes" href="../mfupdatehistory-for-logging-of-class-record-changes/index.html" />
    <link rel="prev" title="Logging Tables" href="../../../the-connector-framework/connector-content/logging-tables/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            MFSQL Connector
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">MFSQL Integration Connector</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../exploring-metadata/index.html">Exploring metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building-custom-applications-and-integrations/index.html">Building custom applications and integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../building-custom-applications-and-integrations/index.html#using-code-on-time">Using Code On Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../property-and-column-usage/index.html">Property and column usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../metadata-search/index.html">Metadata Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../create-valuelist-items-from-sql/index.html">Update / Create Valuelist Items from SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../user-messages/index.html">User Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lookup-views/index.html">Lookup Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../send-bulk-email/index.html">Send Bulk Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-files/index.html">Working with files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-aliases/index.html">Working with aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../correcting-synchronization-errors/index.html">Correcting Synchronization errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../change-of-vault/index.html">Change of Vault</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../daily-monthly-routines-for-agents/index.html">Daily Monthly Routines for Agents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tips-and-tricks-on-using-the-connector/index.html">Tips and tricks on using the Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../tips-and-tricks-on-using-the-connector/index.html#getting-deleted-objects">Getting deleted objects</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Using and managing logs</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../the-connector-framework/connector-content/logging-tables/index.html">Logging Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../getting-started/configuration-and-setup/enabling-vaf-logging/index.html">Enabling and configuring the VAF logging</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Logging execution of Process and Procedure Steps</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#summary-of-logging-function">Summary of logging function</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-for-standard-procedures">Logging for standard procedures</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging-for-custom-procedures">Logging for custom procedures</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#setting-switch-to-use-process-logging">Setting switch to use process logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mfupdatehistory-for-logging-of-class-record-changes/index.html">MFUpdateHistory for logging of class record changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../logging-in-custom-procedures/index.html">Logging in custom procedures</a></li>
<li class="toctree-l3"><a class="reference internal" href="../error-tracing/index.html">Error tracing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-object-version/index.html">Working with Object Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html">Context Menu Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../context-menu-queue/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mfsql_connector_addons/index.html">MFSQL Connector addons and utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../users-in-usergroups/index.html">Users in Usergroups</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../index.html#m-files-external-connectors">M-Files External Connectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../views/index.html">Views</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../triggers/index.html">Triggers</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MFSQL Connector</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">MFSQL Integration Connector</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Using and managing logs</a></li>
      <li class="breadcrumb-item active">Logging execution of Process and Procedure Steps</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="logging-execution-of-process-and-procedure-steps">
<h1>Logging execution of Process and Procedure Steps<a class="headerlink" href="#logging-execution-of-process-and-procedure-steps" title="Link to this heading"></a></h1>
<section id="summary-of-logging-function">
<h2>Summary of logging function<a class="headerlink" href="#summary-of-logging-function" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p>When procedure is called it will assess if the it was called directly or by another procedure. Procedures with a parameter &#64;ProcessBatch_ID int = null would be a procedure that can be called by another procedures and pass through the ProcessBatch_ID. If the ProcessBatch_ID is null, then it is regarded as a new process with a separate ProcessBatch_ID, else the parameter passed through will be set as the ProcessBatch_ID for the underlying process.</p></li>
<li><p>The calling procedure will pass through the ProcessBatch_ID.  A new ProcessBatch_ID will be created in table MFProcessBatch if no ProcessBatch_ID is passed through (the &#64;processBatch_ID is null) by calling <a class="reference internal" href="../../../procedures/spMFProcessBatch_Upsert.html"><span class="doc">spMFProcessBatch_Upsert</span></a>. This procedure will create a new log entry and return the new ProcessBatch_ID.</p></li>
<li><p>As part of processing through the procedures, records will be inserted into MFProcessBatchDetail on the execution of steps to record the outcome of these steps. This is done by calling <a class="reference internal" href="../../../procedures/spMFProcessBatchDetail_Insert.html"><span class="doc">spMFProcessBatchDetail_Insert</span></a></p></li>
<li><p>When calling another procedure from with a procedure, the ProcessBatch_ID is passed through to the new procedure using the &#64;ProcessBatch_ID parameter of the called procedure. This will allow the secondary procedure to form part of one procedure batch and enable all the logs in MFProcessBatchDetail to form part of the same batch.</p></li>
<li><p>On completion of the main procedure the process will be ended by calling <a class="reference internal" href="../../../procedures/spMFProcessBatch_Upsert.html"><span class="doc">spMFProcessBatch_Upsert</span></a> again passing in the current &#64;ProcessBatch_id with a completion message. This will update the final entry in MFProcessBatch to record the outcome of the process. Usually a final log to the MFProcessBatchDetail is recorded at the same time.</p></li>
</ol>
<p>When a context menu action is executed, the VAF will automatically create a new ProcessBatch_ID, and make an entry in both MFProcessBatch and MFProcessBatchDetail.  When the procedure is called by the action, it will pass through the ProcessBatch_ID to the called procedure, which in turn can then pass it through to any sub procedures called during the action operation. On completion of the context menu task the VAF will log a completion entry in both logging tables.</p>
<p>When checking MFProcessBatch table for the most recent logs during processing, one can observe if a process is still running or completed successfully.  When checking the detail processes in the MFProcessBatchDetail table for the specific ProcessBatch_ID, one can review the processes completed and the result of the different sub processes.</p>
</section>
<section id="logging-for-standard-procedures">
<h2>Logging for standard procedures<a class="headerlink" href="#logging-for-standard-procedures" title="Link to this heading"></a></h2>
<p>All the main standard procedures in the Connector is setup to log entries to the logging tables. Interpreting the logs depends on the process originating the logging. The columns and how they are used are set out in the sections <a class="reference internal" href="../../../tables/tbMFProcessBatch.html"><span class="doc">MFProcessBatch</span></a> and <a class="reference internal" href="../../../tables/tbMFProcessBatchDetail.html"><span class="doc">MFProcessBatchDetail</span></a></p>
<p>The main purpose of the logs is to allow for backtracking on processes and to monitor and evaluate performance.  The helper procedure <a class="reference internal" href="../../../procedures/spMFGetProcedurePerformance.html"><span class="doc">spMFGetProcedurePerformance</span></a> will produce a number of analytic tables to evaluate performance for a specific processbatch_ID.</p>
</section>
<section id="logging-for-custom-procedures">
<h2>Logging for custom procedures<a class="headerlink" href="#logging-for-custom-procedures" title="Link to this heading"></a></h2>
<p>It is recommended to apply the logging mechanism to custom procedures also.  Guidance on using the logging is in the section <a class="reference internal" href="../logging-in-custom-procedures/index.html"><span class="doc">Logging in custom procedures</span></a></p>
</section>
</section>
<section id="setting-switch-to-use-process-logging">
<h1>Setting switch to use process logging<a class="headerlink" href="#setting-switch-to-use-process-logging" title="Link to this heading"></a></h1>
<p>MFSettings table contains a switch ‘App_DetailLogging’ set by default to
0.  To enable logging to MFProcessBatch and MFProcessBatchDetail the
switch must be set to 1.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../../../the-connector-framework/connector-content/logging-tables/index.html" class="btn btn-neutral float-left" title="Logging Tables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../mfupdatehistory-for-logging-of-class-record-changes/index.html" class="btn btn-neutral float-right" title="MFUpdateHistory for logging of class record changes" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Laminin Solutions Ltd.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>