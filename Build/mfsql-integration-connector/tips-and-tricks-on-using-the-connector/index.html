

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tips and tricks on using the Connector &mdash; MFSQL Connector 4.10.31.75 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Using and managing logs" href="../using-and-managing-logs/index.html" />
    <link rel="prev" title="Daily Monthly Routines for Agents" href="../daily-monthly-routines-for-agents/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">MFSQL Integration Connector</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../exploring-metadata/index.html">Exploring metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building-custom-applications-and-integrations/index.html">Building custom applications and integrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../building-custom-applications-and-integrations/index.html#using-code-on-time">Using Code On Time</a></li>
<li class="toctree-l2"><a class="reference internal" href="../property-and-column-usage/index.html">Property and column usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../metadata-search/index.html">Metadata Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="../create-valuelist-items-from-sql/index.html">Update / Create Valuelist Items from SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../user-messages/index.html">User Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lookup-views/index.html">Lookup Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../send-bulk-email/index.html">Send Bulk Email</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working-with-files/index.html">Working with files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working-with-aliases/index.html">Working with aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="../correcting-synchronization-errors/index.html">Correcting Synchronization errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../change-of-vault/index.html">Change of Vault</a></li>
<li class="toctree-l2"><a class="reference internal" href="../daily-monthly-routines-for-agents/index.html">Daily Monthly Routines for Agents</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Tips and tricks on using the Connector</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multi-class">Multi-Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reset-sql-class-table">Reset SQL Class Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="#dynamically-add-additional-property-to-class-table-when-inserting-updating-records">Dynamically add additional property to class table when inserting/updating records</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-of-valuelistitems-by-class">View of Valuelistitems by Class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-of-valuelistitems-by-owner-valuelistitem">View of Valuelistitems by Owner ValuelistItem</a></li>
<li class="toctree-l3"><a class="reference internal" href="#renaming-of-property-related-to-a-valuelist">Renaming of property related to a valuelist</a></li>
<li class="toctree-l3"><a class="reference internal" href="#showing-the-objects-that-was-updated-using-the-history-table">Showing the objects that was updated using the history table</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#getting-deleted-objects">Getting deleted objects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#helper-procedures-when-iterating-through-the-configuration-of-the-vault-and-the-connector">Helper procedures when iterating through the configuration of the vault and the Connector</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../using-and-managing-logs/index.html">Using and managing logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working-with-object-version/index.html">Working with Object Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context-menu-queue/index.html">Context Menu Queue</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context-menu-queue/index.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context-menu-queue/index.html#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../context-menu-queue/index.html#troubleshooting">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mfsql_connector_addons/index.html">MFSQL Connector addons and utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#m-files-external-connectors">M-Files External Connectors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">MFSQL Integration Connector</a> &raquo;</li>
        
      <li>Tips and tricks on using the Connector</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tips-and-tricks-on-using-the-connector">
<h1>Tips and tricks on using the Connector<a class="headerlink" href="#tips-and-tricks-on-using-the-connector" title="Permalink to this headline">¶</a></h1>
<p>The Connector is designed to be applied in many different ways for a
range of different applications.  The following list highlights some of
these applications.</p>
<div class="section" id="multi-class">
<h2>Multi-Class<a class="headerlink" href="#multi-class" title="Permalink to this headline">¶</a></h2>
<p>Sometimes one need to have the ability to lookup or work with a object
across multiple classes. There is various ways to achieve this.</p>
<ol class="arabic simple">
<li><p>a) create a view with a union statement for all the class tables that
need to be included in the multi-class table.</p></li>
<li><p>b) use the procedure spMFObjectTypeUpdateClassIndex to update the
table MFObjectTypeToClassObject.  This will create a index for all
the records included in the application.</p></li>
</ol>
</div>
<div class="section" id="reset-sql-class-table">
<h2>Reset SQL Class Table<a class="headerlink" href="#reset-sql-class-table" title="Permalink to this headline">¶</a></h2>
<p>In various scenarios it may be necessary to re-align the class table
with M-Files.  For instance, you may have update the incorrect columns
or incorrect records in SQL and need to re-instate the records prior to
updating it in M-Files. If you are working in batch mode then simply
delete the error records in the SQL table and perform an update from
M-Files.</p>
<p>However, if you have changed the metadata structure of the object in
M-Files, it is good practice to drop the class table and recreate it.
This will ensure that the table design stays in tact.</p>
</div>
<div class="section" id="dynamically-add-additional-property-to-class-table-when-inserting-updating-records">
<h2>Dynamically add additional property to class table when inserting/updating records<a class="headerlink" href="#dynamically-add-additional-property-to-class-table-when-inserting-updating-records" title="Permalink to this headline">¶</a></h2>
<p>An additional property that is not currently in the Class table can be
added to the record by adding the column to the class table and then
updating the record with updatemethod 0.  Note that if a lookup property
is added then two columns must be added, one for the property and
another for the property_id. The datatype of the column added must
comply with the definition of the SQL datatype as per MFDataType table</p>
<p>Alternatively the addition property can be added to any class object in
M-Files. When the data is syncronised the additional property column
will automatically be added to the Class Table.</p>
</div>
<div class="section" id="view-of-valuelistitems-by-class">
<h2>View of Valuelistitems by Class<a class="headerlink" href="#view-of-valuelistitems-by-class" title="Permalink to this headline">¶</a></h2>
<p>Using the following select statement and joins will show valuelistitems
 for valuelists per class with the related  Property</p>
<p>This view is useful when analysing the use of valuelists and
valuelistitems across multiple classes, especially documents.</p>
<div class="code panel pdl docutils container">
<div class="codeheader panelheader pdl docutils container">
<p><strong>Execute Procedure</strong></p>
</div>
<div class="codecontent panelcontent pdl docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span>  <span class="n">mvli</span><span class="p">.</span><span class="n">ID</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">Name</span><span class="p">]</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">MFID</span><span class="p">]</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">AppRef</span><span class="p">]</span> <span class="p">,</span>
        <span class="n">mvli</span><span class="p">.[</span><span class="n">Owner_AppRef</span><span class="p">]</span> <span class="k">AS</span> <span class="n">OwnerAppRef</span> <span class="p">,</span>
        <span class="n">mvl</span><span class="p">.[</span><span class="n">Name</span><span class="p">]</span> <span class="k">AS</span> <span class="n">Valuelist</span> <span class="p">,</span>
        <span class="n">mvli2</span><span class="p">.</span><span class="n">ID</span> <span class="k">AS</span> <span class="n">OwnerID</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli2</span><span class="p">].[</span><span class="n">Name</span><span class="p">]</span> <span class="n">OwnerValuelistitem</span> <span class="p">,</span>
        <span class="n">mvl2</span><span class="p">.[</span><span class="n">Name</span><span class="p">]</span> <span class="k">AS</span> <span class="n">OwnerValuelist</span> <span class="p">,</span>
        <span class="n">mp</span><span class="p">.[</span><span class="n">Name</span><span class="p">]</span> <span class="k">AS</span> <span class="n">PropertyName</span> <span class="p">,</span>
        <span class="n">mc</span><span class="p">.</span><span class="n">Name</span> <span class="k">AS</span> <span class="n">classname</span>
<span class="k">FROM</span>    <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueListItems</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvli</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueList</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvl</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mvl</span><span class="p">].[</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">MFValueListID</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueListItems</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvli2</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mvli2</span><span class="p">].[</span><span class="n">AppRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">Owner_AppRef</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueList</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvl2</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mvl2</span><span class="p">].[</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvli2</span><span class="p">].[</span><span class="n">MFValueListID</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFProperty</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mp</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mp</span><span class="p">].[</span><span class="n">MFValueList_ID</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvl</span><span class="p">].[</span><span class="n">ID</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFClassProperty</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mcp</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mp</span><span class="p">].</span><span class="n">ID</span> <span class="o">=</span> <span class="n">mcp</span><span class="p">.[</span><span class="n">MFProperty_ID</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFClass</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mc</span><span class="p">]</span> <span class="k">ON</span> <span class="n">mc</span><span class="p">.</span><span class="n">ID</span> <span class="o">=</span> <span class="n">mcp</span><span class="p">.[</span><span class="n">MFClass_ID</span><span class="p">]</span>
<span class="k">WHERE</span>   <span class="p">[</span><span class="n">mvli</span><span class="p">].</span><span class="n">deleted</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="view-of-valuelistitems-by-owner-valuelistitem">
<h2>View of Valuelistitems by Owner ValuelistItem<a class="headerlink" href="#view-of-valuelistitems-by-owner-valuelistitem" title="Permalink to this headline">¶</a></h2>
<p>Using the following select statement will show valuelistitems by their
owner Valuelistitems</p>
<p>This view is useful when analysing the use of valuelistitems where the
items are owned by another.  For instance each Financial Year has their
own financial periods; or Each County/State has their own cities.</p>
<div class="code panel pdl docutils container">
<div class="codeheader panelheader pdl docutils container">
<p><strong>Execute Procedure</strong></p>
</div>
<div class="codecontent panelcontent pdl docutils container">
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span> <span class="k">SELECT</span>  <span class="n">mvli</span><span class="p">.</span><span class="n">ID</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">Name</span><span class="p">]</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">MFID</span><span class="p">]</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">AppRef</span><span class="p">]</span> <span class="p">,</span>
        <span class="n">mvli</span><span class="p">.[</span><span class="n">Owner_AppRef</span><span class="p">]</span> <span class="k">AS</span> <span class="n">OwnerAppRef</span> <span class="p">,</span>
        <span class="n">mvl</span><span class="p">.[</span><span class="n">Name</span><span class="p">]</span> <span class="k">AS</span> <span class="n">Valuelist</span> <span class="p">,</span>
        <span class="n">mvli2</span><span class="p">.</span><span class="n">ID</span> <span class="k">AS</span> <span class="n">OwnerID</span> <span class="p">,</span>
        <span class="p">[</span><span class="n">mvli2</span><span class="p">].[</span><span class="n">Name</span><span class="p">]</span> <span class="n">OwnerValuelistitem</span> <span class="p">,</span>
        <span class="n">mvl2</span><span class="p">.[</span><span class="n">Name</span><span class="p">]</span> <span class="k">AS</span> <span class="n">OwnerValuelist</span>
<span class="k">FROM</span>    <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueListItems</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvli</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueList</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvl</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mvl</span><span class="p">].[</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">MFValueListID</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueListItems</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvli2</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mvli2</span><span class="p">].[</span><span class="n">AppRef</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">Owner_AppRef</span><span class="p">]</span>
        <span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFValueList</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mvl2</span><span class="p">]</span> <span class="k">ON</span> <span class="p">[</span><span class="n">mvl2</span><span class="p">].[</span><span class="n">ID</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">mvli2</span><span class="p">].[</span><span class="n">MFValueListID</span><span class="p">]</span>
<span class="k">WHERE</span>   <span class="p">[</span><span class="n">mvli</span><span class="p">].[</span><span class="n">OwnerID</span><span class="p">]</span> <span class="o">&lt;&gt;</span> <span class="mi">0</span><span class="p">;</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="renaming-of-property-related-to-a-valuelist">
<h2>Renaming of property related to a valuelist<a class="headerlink" href="#renaming-of-property-related-to-a-valuelist" title="Permalink to this headline">¶</a></h2>
<p>After renaming a property in M-Files Admin the metadata need to be
refreshed.  Use the MFSQL Manager Web App ‘Opearations/Metadata refresh’
menu item. Select ‘Properties’ in the drop down ans select ‘Refresh
meatata’</p>
<p>This will change the name of the property in MFProperty Table. It will
also change the ColumnName in MFProperty table and change the
ColumnsNames of  all existing class tables.  Note that the change of
name of the column in the class table will only come into effect on the
next table update with update method 1 or 2.</p>
<p>If you area already using the property in any custom procedures,
reports, select statements etc, then you will have to manually adjust
your custom procedures to align with the new columnname.</p>
</div>
<div class="section" id="showing-the-objects-that-was-updated-using-the-history-table">
<h2>Showing the objects that was updated using the history table<a class="headerlink" href="#showing-the-objects-that-was-updated-using-the-history-table" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../tables/tbMFUpdateHistory.html"><span class="doc">MFUpdateHistory</span></a> table has a record of the result of every update. Refer
to <a class="reference internal" href="../../the-connector-framework/connector-content/utility-tables/index.html"><span class="doc">Utility Tables</span></a>
for more detail on the columns in the MFUpdateHistory table. The column
object version details include all the object versions from M-Files at
the time of the update transaction in XML format.  Use spMFHistoryShow
with &#64;updatecolumn = 1 to return a list of the records that is included
in the update.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">Declare</span> <span class="o">@</span><span class="n">id</span> <span class="nb">int</span>
<span class="k">SELECT</span> <span class="n">TOP</span> <span class="mi">1</span> <span class="o">@</span><span class="n">id</span> <span class="o">=</span> <span class="p">[</span><span class="n">muh</span><span class="p">].</span><span class="n">id</span>
<span class="k">FROM</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFUpdateHistory</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">muh</span><span class="p">]</span> <span class="k">ORDER</span> <span class="k">by</span> <span class="p">[</span><span class="n">muh</span><span class="p">].[</span><span class="n">Id</span><span class="p">]</span> <span class="k">DESC</span>

<span class="k">EXEC</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">sp_MFUpdateHistoryShow</span><span class="p">]</span> <span class="o">@</span><span class="n">Debug</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
    <span class="o">@</span><span class="n">Update_ID</span> <span class="o">=</span> <span class="o">@</span><span class="n">id</span><span class="p">,</span>
    <span class="o">@</span><span class="n">UpdateColumn</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="getting-deleted-objects">
<h1>Getting deleted objects<a class="headerlink" href="#getting-deleted-objects" title="Permalink to this headline">¶</a></h1>
<p>When spMFUpdateTable is executed with the MFLastmodified parameter then
this procedure does not check for records that is deleted in M-Files.
 The same applies when spMFUpdateTableWithLastModifiedDate is executed.</p>
<p>It those cases where it is important to ensure that deleted records in
M-Files are updated in SQL and it is important to use the MFLastModified
date as a parameter in the update routine then the following steps can
be followed to update the deleted records in the class table</p>
<p>This can be achieved by executing the <a class="reference internal" href="../../procedures/spMFTableAudit.html"><span class="doc">spMFTableAudit</span></a>
procedure</p>
<div class="section" id="helper-procedures-when-iterating-through-the-configuration-of-the-vault-and-the-connector">
<h2>Helper procedures when iterating through the configuration of the vault and the Connector<a class="headerlink" href="#helper-procedures-when-iterating-through-the-configuration-of-the-vault-and-the-connector" title="Permalink to this headline">¶</a></h2>
<p>To reset the metadata:  Use spmfDropandUpdateMetadata rather than
spmfSynchronizeMetadata</p>
<p>To delete all the class tables and start over again:
spMFdropAllClassTables</p>
<p>To recreate all class tables: set includeinApp = 1 in MFClass for the
desired tables to be created and then use spMFCreateAllMFTables</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../using-and-managing-logs/index.html" class="btn btn-neutral float-right" title="Using and managing logs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../daily-monthly-routines-for-agents/index.html" class="btn btn-neutral float-left" title="Daily Monthly Routines for Agents" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>