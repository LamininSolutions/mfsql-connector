

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Automated update of records from M-Files &mdash; MFSQL Connector 4.11.33.77 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Create new class table" href="../create-new-object/index.html" />
    <link rel="prev" title="MFCLass and ClassTables" href="../mfclass-and-classtables/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">MFSQL Data Exchange and reporting Connector</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../reporting/index.html">Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../working-with-metadata/index.html">Working with Metadata</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Working with Class Tables</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../mfclass-and-classtables/index.html">MFCLass and ClassTables</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Automated update of records from M-Files</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#updates-on-demand">Updates on Demand</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updates-triggered-by-an-m-files-event">Updates triggered by an M-Files event</a></li>
<li class="toctree-l4"><a class="reference internal" href="#before-making-change-in-sql">Before making change in SQL</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-an-agent">Using an agent</a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-demand-in-external-application">On Demand in external application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action-from-within-m-files-using-context-menu">Action from within M-Files using Context Menu</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action-as-part-of-a-workflow-script">Action as part of a workflow script</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../create-new-object/index.html">Create new class table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#overview">Overview</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../using-the-context-menu/index.html">Using the Context Menu</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../mfsql-integration-connector/index.html">MFSQL Integration Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../index.html">MFSQL Data Exchange and reporting Connector</a> &raquo;</li>
        
          <li><a href="../index.html">Working with Class Tables</a> &raquo;</li>
        
      <li>Automated update of records from M-Files</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="automated-update-of-records-from-m-files">
<h1>Automated update of records from M-Files<a class="headerlink" href="#automated-update-of-records-from-m-files" title="Permalink to this headline">¶</a></h1>
<p>Updating a class table is not automatically called on a change of a record in M-Files. There are
various methods that can be used to action or schedule an update.</p>
<p>If SQL standard edition is used for MFSQL Connector, then use and SQL Agent job. refer to <a class="reference internal" href="../../../getting-started/configuration-and-setup/using-agent-for-automated-updates/index.html"><span class="doc">Using Agent for automated updates</span></a> for more details</p>
<p>If SQL express edition then use the powershell special add in to schedule a task.</p>
<p>In either case the procedure <a class="reference internal" href="../../../procedures/spMFUpdateAllncludedInAppTables.html"><span class="doc">spMFUpdateAllncludedInAppTables</span></a> will allow for both incremental and full updates.</p>
<p>We recommend to schedule an incremental update with an appropriate interval for your needs as well as a full update at least once a day.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Records deleted in M-Files is not picked up by the incremental update.  It requires a full update to be picked up.</p>
</div>
<div class="section" id="updates-on-demand">
<h2>Updates on Demand<a class="headerlink" href="#updates-on-demand" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="updates-triggered-by-an-m-files-event">
<h2>Updates triggered by an M-Files event<a class="headerlink" href="#updates-triggered-by-an-m-files-event" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="before-making-change-in-sql">
<h2>Before making change in SQL<a class="headerlink" href="#before-making-change-in-sql" title="Permalink to this headline">¶</a></h2>
<p>The general rule is to always update from M-Files before a record is
changed in SQL.  This is done by first calling the spMFUpdateTable with
method 1 for the records that will be updated and then to call
spMFUpdateTable with update method 0 after the the SQL record is update
to push to update back to M-Files. The procedure <a class="reference external" href="https://doc.lamininsolutions.com/mfsql-connector/procedures/spMFUpdateMFilesToMFSQL">spMFUpdateMFilesToMFSQL</a>
is particularly valuable in this regard.  Depending on the requirement
and volume of data to be taken into account other update procedures can
also be used as outline in section Insert Update of Class Records.</p>
</div>
<div class="section" id="using-an-agent">
<h2>Using an agent<a class="headerlink" href="#using-an-agent" title="Permalink to this headline">¶</a></h2>
<p>If the requirement is to refresh the class tables at intervals (for
instance overnight, or every 2 hours) an agent can be used with</p>
</div>
<div class="section" id="on-demand-in-external-application">
<h2>On Demand in external application<a class="headerlink" href="#on-demand-in-external-application" title="Permalink to this headline">¶</a></h2>
<p>An action button in the external button (e.g. Code on Time action) can
call spmfUpdateTable with update method 1; alternatively
<a class="reference external" href="https://doc.lamininsolutions.com/mfsql-connector/procedures/spMFUpdateTableWithLastModifiedDate">spMFUpdateTablewithLastModifiedDate</a>
can be used.</p>
</div>
<div class="section" id="action-from-within-m-files-using-context-menu">
<h2>Action from within M-Files using Context Menu<a class="headerlink" href="#action-from-within-m-files-using-context-menu" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://doc.lamininsolutions.com/mfsql-connector/mfsql-data-exchange-and-reporting-connector/using-the-context-menu/index.html">M-Files Context Menu</a> plug-in
allows to call any one of the updating procedures by activating the
update from within M-Files.  The two options include triggering the
procedure without any object level parameters and one that allows for
the selected object parameters to be passed through to the procedure.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The rows in MFContextMenu controls the operations of the action menu in M-Files. Check this table if the action item does not work. In particular, ensure that column <strong>IsProcessRunning</strong> is not stuck on 1.</p>
</div>
</div>
<div class="section" id="action-as-part-of-a-workflow-script">
<h2>Action as part of a workflow script<a class="headerlink" href="#action-as-part-of-a-workflow-script" title="Permalink to this headline">¶</a></h2>
<p>We are currently working on a method that will allow for calling the
procedure by using the context menu vault application from a workflow.
 This will trigger the update from the workflow state change.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../create-new-object/index.html" class="btn btn-neutral float-right" title="Create new class table" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../mfclass-and-classtables/index.html" class="btn btn-neutral float-left" title="MFCLass and ClassTables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2023, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>