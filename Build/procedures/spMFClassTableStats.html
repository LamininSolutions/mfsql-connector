

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>spMFClassTableStats &mdash; MFSQL Connector 4.10.31.75 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="spMFconnectionTest" href="spMFConnectionTest.html" />
    <link rel="prev" title="spMFClassTableColumns" href="spMFClassTableColumns.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mfsql-integration-connector/index.html">MFSQL Integration Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Procedures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spMFAddCommentForObjects.html">spMFAddCommentForObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFAliasesUpsert.html">spMFAliasesUpsert</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFChangeClass.html">spMFChangeClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCheckAndUpdateAssemblyVersion.html">spMFCheckAndUpdateAssemblyVersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCheckLicenseStatus.html">spMFCheckLicenseStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFClassTableColumns.html">spMFClassTableColumns</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">spMFClassTableStats</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-info">Additional Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#report-by-email">Report by Email</a></li>
<li class="toctree-l3"><a class="reference internal" href="#warnings">Warnings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#corrective-action">Corrective Action</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-examples">Additional Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changelog">Changelog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spMFConnectionTest.html">spMFconnectionTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFContextMenuActionItem.html">spMFContextMenuActionItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFContextMenuHeadingItem.html">spMFContextMenuHeadingItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFConvertTableToHtml.html">spMFConvertTableToHtml</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateAllLookups.html">spMFCreateAllLookups</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateAllMFTables.html">spMFCreateAllMFTables</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreatePublicSharedLink.html">spMFCreatePublicSharedLink</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateTable.html">spMFCreateTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateValueListLookupView.html">spMFCreateValueListLookupView</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateWorkflowStateLookupView.html">spMFCreateWorkflowStateLookupView</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteAdhocProperty.html">spMFDeleteAdhocProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteHistory.html">spMFDeleteHistory</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteObject.html">spMFDeleteObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteObjectList.html">spMFDeleteObjectList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteObjectVersionList.html">spMFDeleteObjectVersionList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeploymentDetails.html">spMFDeploymentDetails</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDropAllClassTables.html">spMFDropAllClassTables</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDropAndUpdateMetadata.html">spMFDropAndUpdateMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFExportFiles.html">spMFExportFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFExportFilesMultiClasses.html">spMFExportFilesMultiClasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetDataExport.html">spMFGetDataExport</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetDeletedObjects.html">spMFGetDeletedObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetHistory.html">spMFGetHistory</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetLicense.html">spMFGetLicense</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetMFilesAssemblyVersion.html">spMFGetMFilesAssemblyVersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetMfilesLog.html">spMFGetMfilesLog</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetObjectvers.html">spMFGetObjectvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetProcedurePerformance.html">spMFGetProcedurePerformance</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFImportBlobFilesToMFiles.html">spMFImportBlobFilesToMFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertClass.html">spMFInsertClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertClassProperty.html">spMFInsertClassProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertLoginAccount.html">spMFInsertLoginAccount</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertObjectType.html">spMFInsertObjectType</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertProperty.html">spMFInsertProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertUserAccount.html">spMFInsertUserAccount</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertUserMessage.html">spMFInsertUserMessage</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertValueList.html">spMFInsertValueList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertValueListItems.html">spMFInsertValueListItems</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertWorkflow.html">spMFInsertWorkflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertWorkflowState.html">spMFInsertWorkflowState</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFLogError_EMail.html">spMFLogError_EMail</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFLogProcessSummaryForClassTable.html">spMFLogProcessSummaryForClassTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFObjectTypeUpdateClassIndex.html">spMFObjectTypeUpdateClassIndex</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFProcessBatchDetail_Insert.html">spMFProcessBatchDetail_Insert</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFProcessBatch_Upsert.html">spMFProcessBatch_Upsert</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFProcessBatch_mail.html">spMFProcessBatch_Mail</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFRemoveAdditionalProperties.html">spMFRemoveAdditionalProperties</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFResultMessageForUI.html">spMFResultMessageForUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSearchForObject.html">spMFSearchForObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSearchForObjectbyPropertyValues.html">spMFSearchForObjectbyPropertyValues</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSendHTMLBodyEmail.html">spMFSendHTMLBodyEmail</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSetAdditionalProperty.html">SpmfSetAdditionalProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSetContextMenuQueue.html">spMFSetContextMenuQueue</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSetUniqueIndexes.html">spMFSetUniqueIndexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSetup_Reporting.html">spMFSetup_Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeClasses.html">spMFSynchronizeClasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeFilesToMFiles.html">spMFSynchronizeFilesToMFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeLookupColumnChange.html">spmfSynchronizeLookupColumnChange</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeMetadata.html">spMFSynchronizeMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeObjectType.html">spMFSynchronizeObjectType</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeProperties.html">spMFSynchronizeProperties</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeSpecificMetadata.html">spMFSynchronizeSpecificMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeUserAccount.html">spMFSynchronizeUserAccount</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeValueList.html">spMFSynchronizeValueList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeValueListItems.html">spMFSynchronizeValueListItems</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeValueListItemsToMfiles.html">spMFSynchronizeValueListItemsToMfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeWorkFlowStateColumnChange.html">spMFSynchronizeWorkFlowSateColumnChange</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeWorkflow.html">spMFSynchronizeWorkflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeWorkflowsStates.html">spMFSynchronizeWorkflowsStates</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFTableAudit.html">spMFTableAudit</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUnDeleteObject.html">spMFUnDeleteObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateAllncludedInAppTables.html">spMFUpdateAllncludedInAppTables</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateAssemblies.html">spMFUpdateAssemblies</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateAssemblyLog.html">spMFUpdateAssemblyLog</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateContextMenuQueue.html">spMFUpdateContextMenuQueue</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateExplorerFileToMFiles.html">spMFUpdateExplorerFileToMFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateHistoryShow.html">spMFUpdateHistoryShow</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateItemByItem.html">spMFUpdateItemByItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateMFilesToMFSQL.html">spMFUpdateMFilesToMFSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateObjectChangeHistory.html">spMFUpdateObjectChangeHistory</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateSynchronizeError.html">spMFUpdateSynchronizeError</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTable.html">spMFUpdateTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTableInternal.html">spMFUpdateTableInternal</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTableWithLastModifiedDate.html">spMFUpdateTableWithLastModifiedDate</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTable_ObjIDs_GetGroupedList.html">spMFUpdateTable_ObjIDs_GetGroupedList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTable_ObjIDs_Grouped.html">spMFUpdateTable_ObjIDs_Grouped</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTableinBatches.html">spMFUpdateTableinBatches</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUsersByUserGroup.html">spMFUsersByUserGroup</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFValidateEmailProfile.html">spMFValidateEmailProfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFVaultConnectionTest.html">spMFVaultConnectionTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFsettingsForDBUpdate.html">spMFsettingsForDBUpdate</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFsettingsForVaultUpdate.html">spMFsettingsForVaultUpdate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Procedures</a> &raquo;</li>
        
      <li>spMFClassTableStats</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="spmfclasstablestats">
<h1>spMFClassTableStats<a class="headerlink" href="#spmfclasstablestats" title="Permalink to this headline">¶</a></h1>
<dl class="simple">
<dt>Return</dt><dd><ul class="simple">
<li><p>1 = Success</p></li>
<li><p>-1 = Error</p></li>
</ul>
</dd>
<dt>Parameters</dt><dd><dl class="simple">
<dt>&#64;ClassTableName nvarchar(128) (optional)</dt><dd><ul class="simple">
<li><p>Default = NULL (all tables will be listed)</p></li>
<li><p>ClassTableName to show table stats for</p></li>
</ul>
</dd>
<dt>&#64;Flag int (optional)</dt><dd><ul class="simple">
<li><p>Default = NULL</p></li>
</ul>
</dd>
<dt>&#64;WithReset int (optional)</dt><dd><ul class="simple">
<li><p>Default = 0</p></li>
<li><p>1 = deleted object will be removed, sync error reset to 0, error 3 records deleted.</p></li>
</ul>
</dd>
<dt>&#64;WithAudit int</dt><dd><ul class="simple">
<li><p>Default = 0</p></li>
<li><p>1 = will include running spmftableaudit and updating info from MF</p></li>
</ul>
</dd>
<dt>&#64;IncludeOutput int (optional)</dt><dd><ul class="simple">
<li><p>set to 1 to output result to a table ##spMFClassTableStats</p></li>
</ul>
</dd>
<dt>&#64;SendReport int (optional)</dt><dd><ul class="simple">
<li><p>Default = 0</p></li>
<li><p>When set to 1, and IncludeOutput is set to 1 then a email report will be sent if when any off the error columns are not null.</p></li>
</ul>
</dd>
<dt>&#64;Body NVARCHAR(MAX) (optional)</dt><dd><ul class="simple">
<li><p>Default to ‘&lt;p&gt;The class tables in the following report is not up to date or is showing errors.  Consult <a class="reference external" href="https://doc.lamininsolutions.com/procedures/spMFClassTableStats.html">https://doc.lamininsolutions.com/procedures/spMFClassTableStats.html</a> for corrective action. &lt;/p&gt; &lt;BR&gt; ‘</p></li>
<li><p>This email body will appear above the table</p></li>
</ul>
</dd>
<dt>&#64;MessageTitle NVARCHAR(258) (optional)</dt><dd><ul class="simple">
<li><p>Default DB_NAME() + ‘ : Class Table Error Report’</p></li>
<li><p>This will be the Email subject</p></li>
</ul>
</dd>
<dt>&#64;Footer NVARCHAR(400) (optional)</dt><dd><ul class="simple">
<li><p>Default to ‘&lt;BR&gt;&lt;p&gt;Produced by MFSQL Connector&lt;/p&gt;’</p></li>
<li><p>This will appear at the bottom of the email</p></li>
</ul>
</dd>
<dt>&#64;Debug smallint (optional)</dt><dd><ul class="simple">
<li><p>Default = 0</p></li>
<li><p>1 = Standard Debug Mode</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>To show an extract of all the Class Tables created in the Connector database, the IncludedInApp status of the tables in MFClass the number of records in the class table and the date and time of the last updated record in the table. The date of the most recent MF_Last_Modified is also shown.</p>
</div>
<div class="section" id="additional-info">
<h2>Additional Info<a class="headerlink" href="#additional-info" title="Permalink to this headline">¶</a></h2>
<p>The procedure also show a summary of the key status records from the process_id column of the tables. The number of records in the following categories are shown:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Column</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>ClassID</p></td>
<td><p>MFID of the class</p></td>
</tr>
<tr class="row-odd"><td><p>TableName</p></td>
<td><p>Name of Class table</p></td>
</tr>
<tr class="row-even"><td><p>IncludeInApp</p></td>
<td><p>IncludeInApp Flag</p></td>
</tr>
<tr class="row-odd"><td><p>MissingTable</p></td>
<td><p>Will show a 1 when includedInApp = 1 and the table is not in the database</p></td>
</tr>
<tr class="row-even"><td><p>SQLRecordCount</p></td>
<td><p>Totals records in SQL (Note that this is not necessarily the same as the total per M-Files)</p></td>
</tr>
<tr class="row-odd"><td><p>MFRecordCount</p></td>
<td><p>Total records in M-Files including deleted objects.
This result is derived from the last time that spMFTableAudit procedure was run to produce a list
of the objectversions of all the objects for a specific class.</p></td>
</tr>
<tr class="row-even"><td><p>MFNotInSQL</p></td>
<td><p>Total record in M-Files not yet updated in SQL. This excludes deleted objects in M-Files which are recorded in MFAuditTable with statusflag = 4.  It indicates that and update should be run.</p></td>
</tr>
<tr class="row-odd"><td><p>SQLNotInMF</p></td>
<td><p>Count of records in class table not in MFAuditHistory. This may include new records in SQL, not yet pushed to M-Files.</p></td>
</tr>
<tr class="row-even"><td><p>Templates</p></td>
<td><p>Total records with IsTemplate Flag.  These records are excluded from the the class table</p></td>
</tr>
<tr class="row-odd"><td><p>Collections</p></td>
<td><p>Total number of collections in class.  Note that MFSQL Connector does exclude all collections</p></td>
</tr>
<tr class="row-even"><td><p>Deleted</p></td>
<td><p>Total deleted in M-Files from MFAuditHistory.</p></td>
</tr>
<tr class="row-odd"><td><p>CheckedOut</p></td>
<td><p>Total number of records from MFAuditHistory that is checked out for the class</p></td>
</tr>
<tr class="row-even"><td><p>RequiredWorkflowError</p></td>
<td><p>Total number of records with empty workflow where workflow is required in class definition</p></td>
</tr>
<tr class="row-odd"><td><p>SyncError</p></td>
<td><p>Total Synchronization errors (process_id = 2)</p></td>
</tr>
<tr class="row-even"><td><p>Process_ID_not_0</p></td>
<td><p>Total of records with process_id &lt;&gt; 0 this includes the errors and show records that will be
excluded from an &#64;updatemethod = 1 routine</p></td>
</tr>
<tr class="row-odd"><td><p>MFError</p></td>
<td><p>Total of records with process_id = 3 as MFError</p></td>
</tr>
<tr class="row-even"><td><p>SQLError</p></td>
<td><p>Total of records with process_id =4 as SQL Error</p></td>
</tr>
<tr class="row-odd"><td><p>LastModifed</p></td>
<td><p>Most recent date that SQL updated a record in the table. This is shown in local time</p></td>
</tr>
<tr class="row-even"><td><p>MFLastModified</p></td>
<td><p>Most recent that an update was made in M-Files on the record. This is shown in UTC</p></td>
</tr>
<tr class="row-odd"><td><p>SessionID</p></td>
<td><p>ID  of the latest spMFTableAudit procedure execution.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="report-by-email">
<h2>Report by Email<a class="headerlink" href="#report-by-email" title="Permalink to this headline">¶</a></h2>
<p>To allow for the automatic generation of the report and sending by email, set the parameter &#64;SendReport = 1.  Use the parameters &#64;MessageTitle, &#64;Body and &#64;Footer to customise these elements of the email</p>
<p>The email will be sent to the email addresses set in the table MFsettings for as the support email recipient for all tables where a error is included.</p>
</div>
<div class="section" id="warnings">
<h2>Warnings<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h2>
<p>The MFRecordCount results of spMFClassTableStats is only accurate based on the last execution of spMFTableAudit for a particular class table.</p>
</div>
<div class="section" id="corrective-action">
<h2>Corrective Action<a class="headerlink" href="#corrective-action" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>If MissingTable = 1 then run spMFCreateTable or set IncludeInApp column to null</p></li>
<li><p>If MFnotInSQL &gt; 0 then rerun the update of class table</p></li>
<li><p>If SQLNotInMF &gt; 0 then run spMFClasstableStats &#64;WithAudit = 1</p></li>
<li><p>If CheckedOut &gt; 0 then check in records and rerun the update of class table</p></li>
<li><p>If RequiredWorkflowError &gt; 0 then update objects with the required workflow, or remove required workflow from the class table definition.</p></li>
<li><p>If SyncError &gt; 0 then investigate the objects in the class table. Manually reset the process_id to 0, rerun update from M-Files or setup Sync presidence</p></li>
<li><p>If Process_ID_not_0 or MFError or SQLError &gt; 0 then investigate the objects process_id and why the updating failed.  There could be many different reasons depending on the underlying process.</p></li>
</ul>
<p>Use the following view to explore the MFAuditHistory</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">dbo</span><span class="p">.</span><span class="n">MFvwAuditSummary</span>
</pre></div>
</div>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>This procedure can be built into other routines to trigger a report when the update has failed. Add the following as an additional step in the agent for spMFUpdateAllIncludedInApp to trigger a report to monitor the completion of the update procedure.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXEC</span> <span class="n">dbo</span><span class="p">.</span><span class="n">spMFClassTableStats</span>
 <span class="o">@</span><span class="n">IncludeOutput</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
 <span class="o">@</span><span class="n">SendReport</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
 <span class="o">@</span><span class="n">Debug</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="additional-examples">
<h2>Additional Examples<a class="headerlink" href="#additional-examples" title="Permalink to this headline">¶</a></h2>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXEC</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFClassTableStats</span><span class="p">]</span>
</pre></div>
</div>
<hr class="docutils" />
<p>To show a specific table.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXEC</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFClassTableStats</span><span class="p">]</span> <span class="o">@</span><span class="n">ClassTableName</span> <span class="o">=</span> <span class="n">N</span><span class="s1">&#39;YourTablename&#39;</span>
</pre></div>
</div>
<hr class="docutils" />
<p>To insert the report into a temporary table that can be used in messaging.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXEC</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFClassTableStats</span><span class="p">]</span>
     <span class="o">@</span><span class="n">ClassTableName</span> <span class="o">=</span> <span class="n">N</span><span class="s1">&#39;YourTablename&#39;</span>
    <span class="p">,</span><span class="o">@</span><span class="n">IncludeOutput</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<hr class="docutils" />
<p>To include updating object information from M-files.</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXEC</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFClassTableStats</span><span class="p">]</span>
     <span class="o">@</span><span class="n">ClassTableName</span> <span class="o">=</span> <span class="n">N</span><span class="s1">&#39;YourTablename&#39;</span>
    <span class="p">,</span><span class="o">@</span><span class="n">IncludeOutput</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="p">,</span><span class="o">@</span><span class="n">WithAudit</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<hr class="docutils" />
<p>To produce an error report</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">EXEC</span> <span class="n">dbo</span><span class="p">.</span><span class="n">spMFClassTableStats</span>
 <span class="o">@</span><span class="n">IncludeOutput</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
 <span class="o">@</span><span class="n">SendReport</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
 <span class="o">@</span><span class="n">Debug</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 11%" />
<col style="width: 77%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Date</p></td>
<td><p>Author</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>2022-01-18</p></td>
<td><p>LC</p></td>
<td><p>Increase size of email parameters to align with mailer</p></td>
</tr>
<tr class="row-odd"><td><p>2021-10-07</p></td>
<td><p>LC</p></td>
<td><p>Resolve bug of showing query</p></td>
</tr>
<tr class="row-even"><td><p>2021-04-14</p></td>
<td><p>LC</p></td>
<td><p>Resolve issue with specifying a table name</p></td>
</tr>
<tr class="row-odd"><td><p>2021-04-08</p></td>
<td><p>LC</p></td>
<td><p>Add check that table exists</p></td>
</tr>
<tr class="row-even"><td><p>2021-04-01</p></td>
<td><p>LC</p></td>
<td><p>Add column to report on number of collections</p></td>
</tr>
<tr class="row-odd"><td><p>2021-04-01</p></td>
<td><p>LC</p></td>
<td><p>Add parameter and option to send error report</p></td>
</tr>
<tr class="row-even"><td><p>2021-03-11</p></td>
<td><p>LC</p></td>
<td><p>Add column to report on number of templates</p></td>
</tr>
<tr class="row-odd"><td><p>2021-03-11</p></td>
<td><p>LC</p></td>
<td><p>fix calculation of deleted objects</p></td>
</tr>
<tr class="row-even"><td><p>2021-03-02</p></td>
<td><p>LC</p></td>
<td><p>Add column to report on records without required workflow</p></td>
</tr>
<tr class="row-odd"><td><p>2021-03-02</p></td>
<td><p>LC</p></td>
<td><p>Add column to report on Checked out objects</p></td>
</tr>
<tr class="row-even"><td><p>2020-12-10</p></td>
<td><p>LC</p></td>
<td><p>add new parameter to allow for a quick run without table audit</p></td>
</tr>
<tr class="row-odd"><td><p>2020-09-04</p></td>
<td><p>LC</p></td>
<td><p>rebase MFObjectTotal to include checkedout</p></td>
</tr>
<tr class="row-even"><td><p>2020-08-22</p></td>
<td><p>LC</p></td>
<td><p>Update code for new deleted column</p></td>
</tr>
<tr class="row-odd"><td><p>2020-04-16</p></td>
<td><p>LC</p></td>
<td><p>Add with nolock option</p></td>
</tr>
<tr class="row-even"><td><p>2020-03-06</p></td>
<td><p>LC</p></td>
<td><p>Remove statusflag 6 from notinSQL</p></td>
</tr>
<tr class="row-odd"><td><p>2020-03-06</p></td>
<td><p>LC</p></td>
<td><p>Change deleted to include deleted from audit table</p></td>
</tr>
<tr class="row-even"><td><p>2020-03-06</p></td>
<td><p>LC</p></td>
<td><p>Change Column to show process_id not 0</p></td>
</tr>
<tr class="row-odd"><td><p>2019-09-26</p></td>
<td><p>LC</p></td>
<td><p>Update documentation</p></td>
</tr>
<tr class="row-even"><td><p>2019-08-30</p></td>
<td><p>JC</p></td>
<td><p>Added documentation</p></td>
</tr>
<tr class="row-odd"><td><p>2017-12-27</p></td>
<td><p>LC</p></td>
<td><p>run tableaudit for each table to update status from MF</p></td>
</tr>
<tr class="row-even"><td><p>2017-11-23</p></td>
<td><p>LC</p></td>
<td><p>MF_lastModified set to deal with localization</p></td>
</tr>
<tr class="row-odd"><td><p>2017-07-22</p></td>
<td><p>LC</p></td>
<td><p>add parameter to allow the temp table to persist</p></td>
</tr>
<tr class="row-even"><td><p>2017-06-29</p></td>
<td><p>LC</p></td>
<td><p>change mflastmodified date to localtime</p></td>
</tr>
<tr class="row-odd"><td><p>2017-06-16</p></td>
<td><p>LC</p></td>
<td><p>remove flag = 1 from listing</p></td>
</tr>
<tr class="row-even"><td><p>2016-09-09</p></td>
<td><p>LC</p></td>
<td><p>add input parameter to only show table requested</p></td>
</tr>
<tr class="row-odd"><td><p>2016-08-22</p></td>
<td><p>LC</p></td>
<td><p>mflastmodified date show in local time</p></td>
</tr>
<tr class="row-even"><td><p>2016-02-30</p></td>
<td><p>DEV2</p></td>
<td><p>Created procedure</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="spMFConnectionTest.html" class="btn btn-neutral float-right" title="spMFconnectionTest" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="spMFClassTableColumns.html" class="btn btn-neutral float-left" title="spMFClassTableColumns" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>