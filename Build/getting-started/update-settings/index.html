

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Update settings &mdash; MFSQL Connector 4.9.28.73 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Set-up and working with Connector Database" href="../setup-database/index.html" />
    <link rel="prev" title="Upgrading version 4.8.22.62 or later" href="../upgrades-and-hotfixes/updating-to-version-4.8.22.62/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation-overview/index.html">Installation Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../first-time-installation/index.html">First time installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual-installation-using-scripts/index.html">Manual installation using scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../licensing-management/index.html">Licensing Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../next-steps-after-installation/index.html">Next Steps after installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../next-steps-after-installation/index.html#using-example-scripts">Using example scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../upgrades-and-hotfixes/index.html">Upgrades and hotfixes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Update settings</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-definable-settings">User definable settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#view-settings">View settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../setup-database/index.html">Set-up and working with Connector Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database-mail/index.html">Database Mail</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#quick-steps-for-a-new-installation">Quick steps for a new installation.</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-database-file-connector/index.html">MFSQL Database File Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-integration-connector/index.html">MFSQL Integration Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Getting Started</a> &raquo;</li>
        
      <li>Update settings</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="update-settings">
<h1>Update settings<a class="headerlink" href="#update-settings" title="Permalink to this headline">¶</a></h1>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>The updating of settings changed from Release 4.  The settings are all
initialised during the installation.  It is normally not necessary to
make changes to the default settings.  The vault authentication settings
are derived from the installation procedure using the vault login
details when performing the installation .  The database settings are
all set with default values.   Some settings could be modified after the
initial installation to customise the connector further.</p>
<p>The following table contains the settings:</p>
<ul class="simple">
<li><p>MFSettings: For general database and vault settings</p></li>
<li><p>MFVaultSettings: Authentication settings for accessing the vault.</p></li>
</ul>
<p>See <a class="reference external" href="https://doc.lamininsolutions.com/mfsql-connector/the-connector-framework/connector-content/utility-tables/index.html">utility tables</a> section for details about the settings tables</p>
<p>A deeper understanding of the usage of the settings in the
connector is required before changing of settings after
installation.</p>
</div>
<div class="section" id="user-definable-settings">
<h2>User definable settings<a class="headerlink" href="#user-definable-settings" title="Permalink to this headline">¶</a></h2>
<p>User definable settings can be updated using the procedures
spmfSettingsForDBUpdate or spmfSettingsForVaultUpdate.</p>
<p>The connection with M-Files is established using the settings in
MFVaultSettings and no data will be able to synchronise unless the
related settings are correct. The connection can be tested using the
spmfVaultConnectionTest procedure</p>
<p>Many other procedures are also dependent on the correct settings in the
settings tables.</p>
<p>The settings table controls the following:</p>
<ul class="simple">
<li><p>Access to M-Files.</p></li>
<li><p>Hyperlinks</p></li>
<li><p>Email communication for error reporting</p></li>
<li><p>Settings for Assembly installation</p></li>
<li><p>Database user settings</p></li>
<li><p>File exchange (import and export)</p></li>
<li><p>Logging</p></li>
</ul>
<p>The settings table can be extended with custom settings for special
applications. These settings will not be affected when the installation
packages is rerun.  However, we recommend to keep a script for all
custom changes to the settings.</p>
<p>Note that the password need to be encrypted. Refer to the security
section to encrypt the password.  Updating the password using the
spmfSettingsforVaultUpdate will automatically encrypt the password.</p>
<p>If the settings need to be updated then use SSMS to execute the
following procedure</p>
<p>Note that only the parameters that requires changing have to be
specified. A parameter that is not specified will remain unchanged.</p>
<blockquote>
<div><p><strong>Execute Procedure</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span> <span class="k">DECLARE</span> <span class="o">@</span><span class="n">RC</span> <span class="nb">int</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">MFInstallationPath</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">MFilesVersion</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;11.3.4330.130&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">AssemblyInstallationPath</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">SQLConnectorLogin</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">UserRole</span> <span class="n">sysname</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">SupportEmailAccount</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">EmailProfile</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Debug</span> <span class="nb">smallint</span>

<span class="c1">-- TODO: Set parameter values here.</span>

<span class="k">EXECUTE</span> <span class="o">@</span><span class="n">RC</span> <span class="o">=</span> <span class="p">[</span><span class="n">MFSQL_SampleVault</span><span class="p">].[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFSettingsForDBUpdate</span><span class="p">]</span>
   <span class="o">@</span><span class="n">MFInstallationPath</span>
  <span class="p">,</span><span class="o">@</span><span class="n">MFilesVersion</span>
  <span class="p">,</span><span class="o">@</span><span class="n">AssemblyInstallationPath</span>
  <span class="p">,</span><span class="o">@</span><span class="n">SQLConnectorLogin</span>
  <span class="p">,</span><span class="o">@</span><span class="n">UserRole</span>
  <span class="p">,</span><span class="o">@</span><span class="n">SupportEmailAccount</span>
  <span class="p">,</span><span class="o">@</span><span class="n">EmailProfile</span>
  <span class="p">,</span><span class="o">@</span><span class="n">Debug</span>
<span class="k">GO</span>
</pre></div>
</div>
</div></blockquote>
<p>Perform a select statement of the settings table to check that it is
correctly updated. Alternatively run the MFSQL Connector Package
installation again.</p>
<blockquote>
<div><p><strong>Execute Procedure</strong></p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span> <span class="k">DECLARE</span> <span class="o">@</span><span class="n">RC</span> <span class="nb">int</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Username</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;YourUserName&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Password</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;YourPassword&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">NetworkAddress</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;vault server network address&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Vaultname</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;Name of vault&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">MFProtocolType_ID</span> <span class="nb">int</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Endpoint</span> <span class="nb">int</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">MFAuthenticationType_ID</span> <span class="nb">int</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="k">Domain</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">VaultGUID</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;xxxxxx&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">ServerURL</span> <span class="n">nvarchar</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;url for web access&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Debug</span> <span class="nb">smallint</span>

<span class="c1">-- TODO: Set parameter values here.</span>

<span class="k">EXECUTE</span> <span class="o">@</span><span class="n">RC</span> <span class="o">=</span> <span class="p">[</span><span class="n">MFSQL_SampleVault</span><span class="p">].[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFSettingsForVaultUpdate</span><span class="p">]</span>
   <span class="o">@</span><span class="n">Username</span>
  <span class="p">,</span><span class="o">@</span><span class="n">Password</span>
  <span class="p">,</span><span class="o">@</span><span class="n">NetworkAddress</span>
  <span class="p">,</span><span class="o">@</span><span class="n">Vaultname</span>
  <span class="p">,</span><span class="o">@</span><span class="n">MFProtocolType_ID</span>
  <span class="p">,</span><span class="o">@</span><span class="n">Endpoint</span>
  <span class="p">,</span><span class="o">@</span><span class="n">MFAuthenticationType_ID</span>
  <span class="p">,</span><span class="o">@</span><span class="k">Domain</span>
  <span class="p">,</span><span class="o">@</span><span class="n">VaultGUID</span>
  <span class="p">,</span><span class="o">@</span><span class="n">ServerURL</span>
  <span class="p">,</span><span class="o">@</span><span class="n">Debug</span>
<span class="k">GO</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="view-settings">
<h2>View settings<a class="headerlink" href="#view-settings" title="Permalink to this headline">¶</a></h2>
<p>Perform a select statement on MFVaultSettings to review the vault
settings</p>
<p>Perform a select statement on MFSettings to review all other settings</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../setup-database/index.html" class="btn btn-neutral float-right" title="Set-up and working with Connector Database" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../upgrades-and-hotfixes/updating-to-version-4.8.22.62/index.html" class="btn btn-neutral float-left" title="Upgrading version 4.8.22.62 or later" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>