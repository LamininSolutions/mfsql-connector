

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Upgrades and hotfixes &mdash; MFSQL Connector 4.10.30.74 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="M-Files automatic upgrade" href="mfiles-upgrade/index.html" />
    <link rel="prev" title="Database file connector installation" href="../database-file-connector-installation/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Getting Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation-overview/index.html">Installation Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../on-premise-installation/index.html">Standard Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloud-and-hosted-installation/index.html">M-Files Cloud and other hosted installations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../high-availability-sql-servers/index.html">High Availability SQL Servers installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration-and-setup/index.html">Configuration and setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../manual-installation-using-scripts/index.html">Manual installation using scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database-file-connector-installation/index.html">Database file connector installation</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Upgrades and hotfixes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="mfiles-upgrade/index.html">M-Files automatic upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="setup-database/index.html">Set-up and working with Connector Database</a></li>
<li class="toctree-l3"><a class="reference internal" href="updating-to-version-4.8.22.62/index.html">Upgrading version 4.8.22.62 or later</a></li>
<li class="toctree-l3"><a class="reference internal" href="#types-of-upgrades">Types of Upgrades</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preparation-for-upgrading">Preparation for upgrading</a></li>
<li class="toctree-l3"><a class="reference internal" href="#automatic-updates">Automatic updates</a></li>
<li class="toctree-l3"><a class="reference internal" href="#manual-update-of-the-connector">Manual update of the Connector</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-the-connector-to-a-new-version">Upgrade the Connector to a new version</a></li>
<li class="toctree-l3"><a class="reference internal" href="#version-check">Version Check</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../next-steps-after-installation/index.html">Next Steps after installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../next-steps-after-installation/index.html#using-example-scripts">Using example scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../common-installation-errors-and-resolutions/index.html">Common installation errors and resolutions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-database-file-connector/index.html">MFSQL Database File Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mfsql-integration-connector/index.html">MFSQL Integration Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../procedures/index.html">Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Getting Started</a> &raquo;</li>
        
      <li>Upgrades and hotfixes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="upgrades-and-hotfixes">
<h1>Upgrades and hotfixes<a class="headerlink" href="#upgrades-and-hotfixes" title="Permalink to this headline">Â¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="mfiles-upgrade/index.html">M-Files automatic upgrade</a><ul>
<li class="toctree-l2"><a class="reference internal" href="mfiles-upgrade/index.html#methods-to-update-mfsql-connector">Methods to update MFSQL Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="mfiles-upgrade/index.html#assembly-related-errors">Assembly related errors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="setup-database/index.html">Set-up and working with Connector Database</a><ul>
<li class="toctree-l2"><a class="reference internal" href="setup-database/index.html#backup-and-restore-of-connector">Backup and restore of Connector</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup-database/index.html#changing-name-of-database">Changing name of database</a></li>
<li class="toctree-l2"><a class="reference internal" href="setup-database/index.html#fixing-orphaned-user-account">Fixing orphaned user account</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="updating-to-version-4.8.22.62/index.html">Upgrading version 4.8.22.62 or later</a></li>
</ul>
</div>
<p>M-Files and MFSQL Connector regularly publish upgrades and hot fixes.</p>
<p>Connector functionality released in specific releases are highlighted in <a class="reference internal" href="../../version-control/index.html"><span class="doc">Version Control</span></a>. The change control of each procedure is documented as a section in the procedure documentation.</p>
<div class="section" id="types-of-upgrades">
<h2>Types of Upgrades<a class="headerlink" href="#types-of-upgrades" title="Permalink to this headline">Â¶</a></h2>
<p>Connector upgrades will differ depending on what is driving the upgrade.</p>
<ol class="arabic simple">
<li><p>Connector update following a <cite>Mfiles-upgradeindex</cite> upgrade on the SQL server (automated)</p></li>
<li><p>Connector update following a manual M-Files upgrade on the SQL Server</p></li>
<li><p>Upgrade and hotfixes of SQL procedures only.</p></li>
<li><p>Major Release upgrade.</p></li>
<li><p>Upgrades from Release 3 (version 3.1.4.40 and earlier) to Release 4
(version 4.1.5.41 and higher).</p></li>
</ol>
<dl class="simple">
<dt>..note::</dt><dd><p>There is no need to update the Connector if the M-Files version changes on the user desktop or M-Files server, where the M-Files server is not the same as the SQL server.</p>
</dd>
</dl>
</div>
<div class="section" id="preparation-for-upgrading">
<h2>Preparation for upgrading<a class="headerlink" href="#preparation-for-upgrading" title="Permalink to this headline">Â¶</a></h2>
<p>The upgrade method of a package is intended to be
replace the previous package taking into account any migration of the
standard functionality from a previous to the new version. Any customization of procedures, tables or other objects
of any of the standard content of the package will be lost. Â We
recommend that changes are never made to the connector objects. Custom procedures and other objects should use the schema ââcustomââ with a distinctive naming convention.
Application requirements for adjustments to the standard objects must be
made through Laminin Solutions.</p>
<p>Before commencing with an upgrade always ensure that backups are
available</p>
<ul class="simple">
<li><p>MFSQL Connector Database</p></li>
<li><p>M-Files Vault</p></li>
</ul>
<p>On occasion it is necessary to restart the SQL server after the upgrade to allow M-Files
to release the APIâs from the previous version from memory and
load the new version APIâs into memory</p>
</div>
<div class="section" id="automatic-updates">
<h2>Automatic updates<a class="headerlink" href="#automatic-updates" title="Permalink to this headline">Â¶</a></h2>
<p>The Connector will detect if the M-Files Version has changed when the automatic update has been configured. Follow the steps in <cite>mfiles-upgrade/index</cite></p>
</div>
<div class="section" id="manual-update-of-the-connector">
<h2>Manual update of the Connector<a class="headerlink" href="#manual-update-of-the-connector" title="Permalink to this headline">Â¶</a></h2>
<p>The installation package for the same version as the installed version of the Connector can be repeatedly executed on the SQL Server.  This may be necessary to refresh the installation or to recover from an issue.</p>
<p>As an alternative, and when only the assemblies require updating the procedure <a class="reference internal" href="../../procedures/spMFUpdateAssemblies.html"><span class="doc">spMFUpdateAssemblies</span></a> may be applied.</p>
</div>
<div class="section" id="upgrade-the-connector-to-a-new-version">
<h2>Upgrade the Connector to a new version<a class="headerlink" href="#upgrade-the-connector-to-a-new-version" title="Permalink to this headline">Â¶</a></h2>
<p>The latest published version of the connector is available for <a class="reference external" href="https://lamininsolutions.com/download-mfsql-connector/">download</a></p>
<p>Note the installed version before updating with <cite>Version Check</cite>.  If only the third or last segment of the version have changed, then the upgrade must only be applied to the SQL Server.
(e.g. 4.8.24.55 to 4.8.24.56)</p>
<p>When the second segment has changed, the package must be applied to both SQL Server and M-Files Server.
(e.g. 4.7.22.48 to 4.8.23.50)</p>
<p>Take special care when the current version is prior to 4.8.22.62.  Additional steps may include:
- <a class="reference internal" href="updating-to-version-4.8.22.62/index.html"><span class="doc">Upgrading version 4.8.22.62 or later</span></a>
- contact us when upgrading from releases prior to 4.4.7.40</p>
</div>
<div class="section" id="version-check">
<h2>Version Check<a class="headerlink" href="#version-check" title="Permalink to this headline">Â¶</a></h2>
<p>The current version of MF-Files and MFSQL Connector that has been
deployed in the database can be reviewed using <a class="reference internal" href="../../tables/tbMFDeploymentDetail.html"><span class="doc">MFDeploymentDetail</span></a>
table</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span>  <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFDeploymentDetail</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mdd</span><span class="p">]</span> <span class="k">ORDER</span> <span class="k">BY</span> <span class="n">id</span> <span class="k">desc</span>

<span class="o">====</span> <span class="o">===================================</span> <span class="o">======================</span> <span class="o">==========</span> <span class="o">==========</span>
<span class="n">ID</span>   <span class="n">LSWrapperVersion</span>                    <span class="n">MFilesAPIVersion</span>       <span class="n">DeployedBy</span> <span class="n">DeployedOn</span>
<span class="mi">1019</span> <span class="mi">2</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">11</span> <span class="o">/</span> <span class="n">MFSQL</span> <span class="n">Connector</span> <span class="mi">2</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">1</span><span class="p">.</span><span class="mi">13</span> <span class="mi">7</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span> <span class="p">:</span><span class="mi">11</span><span class="p">.</span><span class="mi">3</span><span class="p">.</span><span class="mi">4330</span><span class="p">.</span><span class="mi">134</span> <span class="n">RemoteSQL</span>  <span class="mi">12</span><span class="o">/</span><span class="mi">11</span><span class="o">/</span><span class="mi">2016</span>
<span class="o">====</span> <span class="o">===================================</span> <span class="o">======================</span> <span class="o">==========</span> <span class="o">==========</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="mfiles-upgrade/index.html" class="btn btn-neutral float-right" title="M-Files automatic upgrade" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../database-file-connector-installation/index.html" class="btn btn-neutral float-left" title="Database file connector installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>