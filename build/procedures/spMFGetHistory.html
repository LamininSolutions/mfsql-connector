

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>spMFGetHistory &mdash; MFSQL Connector 4.9.27.69 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/MFSQL-Favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="spMFGetLicense" href="spMFGetLicense.html" />
    <link rel="prev" title="spMFGetFilesDetails" href="spMFGetFilesDetails.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> MFSQL Connector
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../faq/index.html">Frequently asked questions</a></li>
</ul>
<p class="caption"><span class="caption-text">MFSQL Connector Guide:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../introduction/index.html">Introduction to MFSQL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mfsql-data-exchange-and-reporting-connector/index.html">MFSQL Data Exchange and reporting Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mfsql-database-file-connector/index.html">MFSQL Database File Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mfsql-integration-connector/index.html">MFSQL Integration Connector</a></li>
<li class="toctree-l1"><a class="reference internal" href="../the-connector-framework/index.html">The Connector Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="../version-control/index.html">Version Control</a></li>
</ul>
<p class="caption"><span class="caption-text">Blog:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../blogs/index.html">List of blogs</a></li>
</ul>
<p class="caption"><span class="caption-text">SQL Components:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Procedures</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="spMFAddCommentForObjects.html">spMFAddCommentForObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFAliasesUpsert.html">spMFAliasesUpsert</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCheckAndUpdateAssemblyVersion.html">spMFCheckAndUpdateAssemblyVersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCheckLicenseStatus.html">spMFCheckLicenseStatus</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFClassTableColumns.html">spMFClassTableColumns</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFClassTableStats.html">spMFClassTableStats</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFConnectionTest.html">spMFconnectionTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFContextMenuActionItem.html">spMFContextMenuActionItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFContextMenuHeadingItem.html">spMFContextMenuHeadingItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFConvertTableToHtml.html">spMFConvertTableToHtml</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateAllLookups.html">spMFCreateAllLookups</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateAllMFTables.html">spMFCreateAllMFTables</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreatePublicSharedLink.html">spMFCreatePublicSharedLink</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateTable.html">spMFCreateTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateValueListLookupView.html">spMFCreateValueListLookupView</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFCreateWorkflowStateLookupView.html">spMFCreateWorkflowStateLookupView</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteAdhocProperty.html">spMFDeleteAdhocProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteHistory.html">spMFDeleteHistory</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteObject.html">spMFDeleteObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteObjectList.html">spMFDeleteObjectList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeleteObjectVersionList.html">spMFDeleteObjectVersionList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDeploymentDetails.html">spMFDeploymentDetails</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDropAllClassTables.html">spMFDropAllClassTables</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFDropAndUpdateMetadata.html">spMFDropAndUpdateMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFExportFiles.html">spMFExportFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetDataExport.html">spMFGetDataExport</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetDeletedObjects.html">spMFGetDeletedObjects</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetFilesDetails.html">spMFGetFilesDetails</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">spMFGetHistory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#purpose">Purpose</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-info">Additional Info</a></li>
<li class="toctree-l3"><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="#warnings">Warnings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changelog">Changelog</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetLicense.html">spMFGetLicense</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetMFilesAssemblyVersion.html">spMFGetMFilesAssemblyVersion</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetMfilesLog.html">spMFGetMfilesLog</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFGetObjectvers.html">spMFGetObjectvers</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFImportBlobFilesToMFiles.html">spMFImportBlobFilesToMFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertClass.html">spMFInsertClass</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertClassProperty.html">spMFInsertClassProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertLoginAccount.html">spMFInsertLoginAccount</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertObjectType.html">spMFInsertObjectType</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertProperty.html">spMFInsertProperty</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertUserAccount.html">spMFInsertUserAccount</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertUserMessage.html">spMFInsertUserMessage</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertValueList.html">spMFInsertValueList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertValueListItems.html">spMFInsertValueListItems</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertWorkflow.html">spMFInsertWorkflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFInsertWorkflowState.html">spMFInsertWorkflowState</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFLogProcessSummaryForClassTable.html">spMFLogProcessSummaryForClassTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFObjectTypeUpdateClassIndex.html">spMFObjectTypeUpdateClassIndex</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFProcessBatchDetail_Insert.html">spMFProcessBatchDetail_Insert</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFProcessBatch_Upsert.html">spMFProcessBatch_Upsert</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFProcessBatch_mail.html">spMFProcessBatch_Mail</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFRemoveAdditionalProperties.html">spMFRemoveAdditionalProperties</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFResultMessageForUI.html">spMFResultMessageForUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSearchForObject.html">spMFSearchForObject</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSearchForObjectbyPropertyValues.html">spMFSearchForObjectbyPropertyValues</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSendHTMLBodyEmail.html">spMFSendHTMLBodyEmail</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSetUniqueIndexes.html">spMFSetUniqueIndexes</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSetup_Reporting.html">spMFSetup_Reporting</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeClasses.html">spMFSynchronizeClasses</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeFilesToMFiles.html">spMFSynchronizeFilesToMFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeLookupColumnChange.html">spmfSynchronizeLookupColumnChange</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeMetadata.html">spMFSynchronizeMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeObjectType.html">spMFSynchronizeObjectType</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeProperties.html">spMFSynchronizeProperties</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeSpecificMetadata.html">spMFSynchronizeSpecificMetadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeUserAccount.html">spMFSynchronizeUserAccount</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeValueList.html">spMFSynchronizeValueList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeValueListItems.html">spMFSynchronizeValueListItems</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeValueListItemsToMfiles.html">spMFSynchronizeValueListItemsToMfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeWorkFlowStateColumnChange.html">spMFSynchronizeWorkFlowSateColumnChange</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeWorkflow.html">spMFSynchronizeWorkflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFSynchronizeWorkflowsStates.html">spMFSynchronizeWorkflowsStates</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFTableAudit.html">spMFTableAudit</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateAllncludedInAppTables.html">spMFUpdateAllncludedInAppTables</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateAssemblies.html">spMFUpdateAssemblies</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateContextMenuQueue.html">spMFUpdateContextMenuQueue</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateExplorerFileToMFiles.html">spMFUpdateExplorerFileToMFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateHistoryShow.html">spMFUpdateHistoryShow</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateItemByItem.html">spMFUpdateItemByItem</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateMFilesToMFSQL.html">spMFUpdateMFilesToMFSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateObjectChangeHistory.html">spMFUpdateObjectChangeHistory</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateSynchronizeError.html">spMFUpdateSynchronizeError</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTable.html">spMFUpdateTable</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTableInternal.html">spMFUpdateTableInternal</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTableWithLastModifiedDate.html">spMFUpdateTableWithLastModifiedDate</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTable_ObjIDs_GetGroupedList.html">spMFUpdateTable_ObjIDs_GetGroupedList</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTable_ObjIDs_Grouped.html">spMFUpdateTable_ObjIDs_Grouped</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFUpdateTableinBatches.html">spMFUpdateTableinBatches</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFValidateEmailProfile.html">spMFValidateEmailProfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFVaultConnectionTest.html">spMFVaultConnectionTest</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFsettingsForDBUpdate.html">spMFsettingsForDBUpdate</a></li>
<li class="toctree-l2"><a class="reference internal" href="spMFsettingsForVaultUpdate.html">spMFsettingsForVaultUpdate</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../tables/index.html">Tables</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functions/index.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../views/index.html">Views</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">MFSQL Connector</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Procedures</a> &raquo;</li>
        
      <li>spMFGetHistory</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="spmfgethistory">
<h1>spMFGetHistory<a class="headerlink" href="#spmfgethistory" title="Permalink to this headline">¶</a></h1>
<dl class="simple">
<dt>Return</dt><dd><ul class="simple">
<li><p>1 = Success</p></li>
<li><p>-1 = Error</p></li>
</ul>
</dd>
<dt>Parameters</dt><dd><dl class="simple">
<dt>&#64;MFTableName nvarchar(128)</dt><dd><ul class="simple">
<li><p>Valid Class TableName as a string</p></li>
<li><p>Pass the class table name, e.g.: ‘MFCustomer’</p></li>
</ul>
</dd>
<dt>&#64;Process_id int</dt><dd><ul class="simple">
<li><p>Set process_id in the class table for records to be selected</p></li>
<li><p>Use process_id not in (1-4) e.g. 5</p></li>
</ul>
</dd>
<dt>&#64;ColumnNames nvarchar(4000)</dt><dd><ul class="simple">
<li><p>Comma delimited list of the columns to be included in the export</p></li>
</ul>
</dd>
<dt>&#64;IsFullHistory bit</dt><dd><ul class="simple">
<li><p>Default = 1</p></li>
<li><p>1 will include all the changes of the object for the specified column names</p></li>
<li><p>Set to 0 to specify any of the other filters</p></li>
</ul>
</dd>
<dt>&#64;SearchString nvarchar(4000)</dt><dd><ul class="simple">
<li><p>Search for objects included in the object select and property selection with a specific value</p></li>
<li><p>Search is a ‘contain’ search</p></li>
</ul>
</dd>
<dt>&#64;NumberOFDays int</dt><dd><ul class="simple">
<li><p>Set this to show the last x number of days of changes</p></li>
</ul>
</dd>
<dt>&#64;StartDate datetime</dt><dd><ul class="simple">
<li><p>set to a specific date to only show change history from a specific date (e.g. for the last month)</p></li>
</ul>
</dd>
<dt>&#64;ProcessBatch_id int (output)</dt><dd><ul class="simple">
<li><p>Processbatch id for logging</p></li>
</ul>
</dd>
<dt>&#64;Debug int (optional)</dt><dd><ul class="simple">
<li><p>Default = 0</p></li>
<li><p>1 = Standard Debug Mode</p></li>
</ul>
</dd>
</dl>
</dd>
</dl>
<div class="section" id="purpose">
<h2>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>Allows to update MFObjectChangeHistory table with the change history of the specific property of the object based on certain filters</p>
</div>
<div class="section" id="additional-info">
<h2>Additional Info<a class="headerlink" href="#additional-info" title="Permalink to this headline">¶</a></h2>
<p>When the history table is updated it will only report the versions that the property was changed. If the property included in the filter did not change, then to specific version will not be recorded in the table.</p>
<p>Process_id is reset to 0 after completion of the processing.</p>
<p>Use Cases(s)</p>
<ul class="simple">
<li><p>Show comments made on object</p></li>
<li><p>Show a state was entered and exited</p></li>
<li><p>Show when a property was changed</p></li>
<li><p>Discovery reports for changes to certain properties</p></li>
</ul>
<p>Using a search criteria is not yet active.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Set process_id in the class table to 5 for all the records to be included</p>
</div>
<div class="section" id="warnings">
<h2>Warnings<a class="headerlink" href="#warnings" title="Permalink to this headline">¶</a></h2>
<p>The columnname must match the property in the ColumnName column of MFProperty</p>
<p>Note that the same filter will apply to all the columns included in the run.  Split the get procedure into different runs if different filters must be applied to different columns.</p>
<p>Producing on the history for all objects in a large table could take a considerable time to complete. Use the filters to limit restrict the number of records to fetch from M-Files to optimise the search time.</p>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>This procedure can be used to show all the comments  or the last 5 comments made for a object.  It is also handly to assess when a workflow state was changed</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">UPDATE</span> <span class="n">mfcustomer</span>
<span class="k">SET</span> <span class="n">Process_ID</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">FROM</span> <span class="n">MFCustomer</span>  <span class="k">WHERE</span> <span class="n">id</span> <span class="k">in</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>

<span class="k">DECLARE</span> <span class="o">@</span><span class="n">RC</span> <span class="nb">INT</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">TableName</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;MFCustomer&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Process_id</span> <span class="nb">INT</span> <span class="o">=</span> <span class="mi">5</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">ColumnNames</span> <span class="n">NVARCHAR</span><span class="p">(</span><span class="mi">4000</span><span class="p">)</span> <span class="o">=</span> <span class="s1">&#39;Address_Line_1,Country&#39;</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">IsFullHistory</span> <span class="nb">BIT</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">NumberOFDays</span> <span class="nb">INT</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">StartDate</span> <span class="n">DATETIME</span> <span class="c1">--= DATEADD(DAY,-1,GETDATE())</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">ProcessBatch_id</span> <span class="nb">INT</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Debug</span> <span class="nb">INT</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">DECLARE</span> <span class="o">@</span><span class="n">Update_ID</span> <span class="nb">int</span>

<span class="k">EXECUTE</span> <span class="o">@</span><span class="n">RC</span> <span class="o">=</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">spMFGetHistory</span><span class="p">]</span>
<span class="o">@</span><span class="n">MFTableName</span> <span class="o">=</span> <span class="o">@</span><span class="n">TableName</span><span class="p">,</span>
<span class="o">@</span><span class="n">Process_id</span> <span class="o">=</span> <span class="o">@</span><span class="n">Process_id</span><span class="p">,</span>
<span class="o">@</span><span class="n">ColumnNames</span> <span class="o">=</span> <span class="o">@</span><span class="n">ColumnNames</span><span class="p">,</span>
<span class="o">@</span><span class="n">SearchString</span> <span class="o">=</span> <span class="k">null</span><span class="p">,</span>
<span class="o">@</span><span class="n">IsFullHistory</span> <span class="o">=</span> <span class="o">@</span><span class="n">IsFullHistory</span><span class="p">,</span>
<span class="o">@</span><span class="n">NumberOFDays</span> <span class="o">=</span> <span class="o">@</span><span class="n">NumberOFDays</span><span class="p">,</span>
<span class="o">@</span><span class="n">StartDate</span> <span class="o">=</span> <span class="o">@</span><span class="n">StartDate</span><span class="p">,</span>
<span class="o">@</span><span class="n">Update_ID</span> <span class="o">=</span> <span class="o">@</span><span class="n">Update_ID</span> <span class="k">OUTPUT</span><span class="p">,</span>
<span class="o">@</span><span class="n">ProcessBatch_id</span> <span class="o">=</span> <span class="o">@</span><span class="n">ProcessBatch_id</span> <span class="k">OUTPUT</span><span class="p">,</span>
<span class="o">@</span><span class="n">Debug</span> <span class="o">=</span> <span class="o">@</span><span class="n">Debug</span>

<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFProcessBatch</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mpb</span><span class="p">]</span> <span class="k">WHERE</span> <span class="p">[</span><span class="n">mpb</span><span class="p">].[</span><span class="n">ProcessBatch_ID</span><span class="p">]</span> <span class="o">=</span> <span class="o">@</span><span class="n">ProcessBatch_id</span>
<span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFProcessBatchDetail</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mpbd</span><span class="p">]</span> <span class="k">WHERE</span> <span class="p">[</span><span class="n">mpbd</span><span class="p">].[</span><span class="n">ProcessBatch_ID</span><span class="p">]</span> <span class="o">=</span> <span class="o">@</span><span class="n">ProcessBatch_id</span>
</pre></div>
</div>
<hr class="docutils" />
<p>Show the results of the table including the name of the property</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">toh</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="n">mp</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">propertyname</span> <span class="k">FROM</span> <span class="n">mfobjectchangehistory</span> <span class="n">toh</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">mfproperty</span> <span class="n">mp</span>
<span class="k">ON</span> <span class="n">mp</span><span class="p">.[</span><span class="n">MFID</span><span class="p">]</span> <span class="o">=</span> <span class="n">toh</span><span class="p">.[</span><span class="n">Property_ID</span><span class="p">]</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="p">[</span><span class="n">toh</span><span class="p">].[</span><span class="n">Class_ID</span><span class="p">],[</span><span class="n">toh</span><span class="p">].[</span><span class="n">ObjID</span><span class="p">],[</span><span class="n">toh</span><span class="p">].[</span><span class="n">MFVersion</span><span class="p">],[</span><span class="n">toh</span><span class="p">].[</span><span class="n">Property_ID</span><span class="p">]</span>
</pre></div>
</div>
<hr class="docutils" />
<p>Show the results of the table for a state change</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span> <span class="n">toh</span><span class="p">.</span><span class="o">*</span><span class="p">,</span><span class="n">mws</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">StateName</span><span class="p">,</span> <span class="n">mp</span><span class="p">.</span><span class="n">name</span> <span class="k">AS</span> <span class="n">propertyname</span> <span class="k">FROM</span> <span class="n">mfobjectchangehistory</span> <span class="n">toh</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="n">mfproperty</span> <span class="n">mp</span>
<span class="k">ON</span> <span class="n">mp</span><span class="p">.[</span><span class="n">MFID</span><span class="p">]</span> <span class="o">=</span> <span class="n">toh</span><span class="p">.[</span><span class="n">Property_ID</span><span class="p">]</span>
<span class="k">INNER</span> <span class="k">JOIN</span> <span class="p">[</span><span class="n">dbo</span><span class="p">].[</span><span class="n">MFWorkflowState</span><span class="p">]</span> <span class="k">AS</span> <span class="p">[</span><span class="n">mws</span><span class="p">]</span>
<span class="k">ON</span> <span class="p">[</span><span class="n">toh</span><span class="p">].[</span><span class="n">Property_Value</span><span class="p">]</span> <span class="o">=</span> <span class="n">mws</span><span class="p">.</span><span class="n">mfid</span>
<span class="k">WHERE</span> <span class="p">[</span><span class="n">toh</span><span class="p">].[</span><span class="n">Property_ID</span><span class="p">]</span> <span class="o">=</span> <span class="mi">39</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="p">[</span><span class="n">toh</span><span class="p">].[</span><span class="n">Class_ID</span><span class="p">],[</span><span class="n">toh</span><span class="p">].[</span><span class="n">ObjID</span><span class="p">],[</span><span class="n">toh</span><span class="p">].[</span><span class="n">MFVersion</span><span class="p">],[</span><span class="n">toh</span><span class="p">].[</span><span class="n">Property_ID</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="changelog">
<h2>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 11%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Date</p></td>
<td><p>Author</p></td>
<td><p>Description</p></td>
</tr>
<tr class="row-even"><td><p>2021-03-12</p></td>
<td><p>LC</p></td>
<td><p>resolve bug to update multiple columns</p></td>
</tr>
<tr class="row-odd"><td><p>2020-06-25</p></td>
<td><p>LC</p></td>
<td><p>added exception if invalid column is used</p></td>
</tr>
<tr class="row-even"><td><p>2020-03-12</p></td>
<td><p>LC</p></td>
<td><p>Revise datetime formatting</p></td>
</tr>
<tr class="row-odd"><td><p>2019-09-25</p></td>
<td><p>LC</p></td>
<td><p>Include fnMFTextToDate to set datetime - dealing with localisation</p></td>
</tr>
<tr class="row-even"><td><p>2019-09-19</p></td>
<td><p>LC</p></td>
<td><p>Resolve dropping of temp table</p></td>
</tr>
<tr class="row-odd"><td><p>2019-09-05</p></td>
<td><p>LC</p></td>
<td><p>Reset defaults</p></td>
</tr>
<tr class="row-even"><td><p>2019-09-05</p></td>
<td><p>LC</p></td>
<td><p>Add searchstring option</p></td>
</tr>
<tr class="row-odd"><td><p>2019-08-30</p></td>
<td><p>JC</p></td>
<td><p>Added documentation</p></td>
</tr>
<tr class="row-even"><td><p>2019-08-02</p></td>
<td><p>LC</p></td>
<td><p>Set lastmodifiedUTC datetime conversion to 105</p></td>
</tr>
<tr class="row-odd"><td><p>2019-06-02</p></td>
<td><p>LC</p></td>
<td><p>Fix bug with lastmodifiedUTC date</p></td>
</tr>
<tr class="row-even"><td><p>2019-01-02</p></td>
<td><p>LC</p></td>
<td><p>Add ability to show updates in MFUpdateHistory</p></td>
</tr>
</tbody>
</table>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="spMFGetLicense.html" class="btn btn-neutral float-right" title="spMFGetLicense" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="spMFGetFilesDetails.html" class="btn btn-neutral float-left" title="spMFGetFilesDetails" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Laminin Solutions Ltd

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>